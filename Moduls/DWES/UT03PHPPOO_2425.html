<!DOCTYPE html><html lang="ca" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docencia.xaviersastre.cat/Moduls/DWES/UT03PHPPOO_2425.html">
      
      
      
      
      <link rel="icon" href="../../imatges/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>PHP Orientado a Objetos - Docencia Xavier</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="../../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../css/custom_admonitions.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-KXJX1CP7QG"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-KXJX1CP7QG",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-KXJX1CP7QG",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="Teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#php-orientado-a-objetos" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="CapÃ§alera">
    <a href="../../index.html" title="Docencia Xavier" class="md-header__button md-logo" aria-label="Docencia Xavier" data-md-component="logo">
      
  <img src="../../imatges/education_blanc.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docencia Xavier
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PHP Orientado a Objetos
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="Teal" aria-label="Canviar a mode nit" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Canviar a mode nit" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="Teal" aria-label="Canviar a mode dia" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Canviar a mode dia" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="NavegaciÃ³" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Docencia Xavier" class="md-nav__button md-logo" aria-label="Docencia Xavier" data-md-component="logo">
      
  <img src="../../imatges/education_blanc.png" alt="logo">

    </a>
    Docencia Xavier
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inici
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            NC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IntroducciÃ³ i index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2">
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT01 Compliment normatiu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            UT01 Compliment normatiu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/UT01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teÃ²ric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/presentacions/01%20Unitat%201%20-%20Compliment%20%20normatiu_ok/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3">
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT02 Disseny de sistemes de gestiÃ³ de compliment normatiu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            UT02 Disseny de sistemes de gestiÃ³ de compliment normatiu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/UT02.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teÃ²ric
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DWES
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DWES
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1">
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT01 Arquitectures Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UT01 Arquitectures Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT01ArquitecturesWeb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teÃ²ric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="presentacions/DWESUT01 - Arquitectures i eines/index_HTML.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT01ArquitecturesWebVideo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VÃ­deo resum de la unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT01ArquitecturesWebActivitats.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activitats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2">
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT02 Llenguatge PHP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UT02 Llenguatge PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT02PHP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teÃ²ric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT02PHPVideo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VÃ­deo resum de la unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT02PHPTest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test autoavaluaciÃ³
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exercicisisolucions/UT02PHPExercicis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activitats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3">
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT03 Llenguatge PHP Orientat a Objectes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UT03 Llenguatge PHP Orientat a Objectes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT03PHPPOO.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teÃ²ric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exercicisisolucions/UT03PHPPOOExercicis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activitats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DWEC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            DWEC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1">
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT01 Arquitectures Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            UT01 Arquitectures Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/UT01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teÃ²ric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/presentacions/DWECUT1/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2">
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT02 Llenguatge Javascript
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            UT02 Llenguatge Javascript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/exercicisisolucions/UT02Exercicis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercicis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bloc  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.59 3.41 7 4.82 3.82 8 7 11.18 5.59 12.6 1 8l4.59-4.59m5.82 0L16 8l-4.59 4.6L10 11.18 13.18 8 10 4.82l1.41-1.41M22 6v12c0 1.11-.89 2-2 2H4a2 2 0 0 1-2-2v-4h2v4h16V6h-2.97V4H20c1.11 0 2 .89 2 2Z"></path></svg>
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2">
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arxiva
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Arxiva
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3">
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/amazon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amazon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/coneixements-generals.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coneixements generals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dam.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/daw.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAW
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dwec.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DWEC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dwes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DWES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/docker.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dynamodb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DynamoDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/general.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/html.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/js.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/java.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/javascript.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Javascript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/matem%C3%A0tiques.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MatemÃ tiques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/php.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PHP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/psp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PSP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/programaci%C3%B3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProgramaciÃ³
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/programci%C3%B3-multifil.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProgramciÃ³ multifil
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/projecte-intermodular.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projecte intermodular
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/springboot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBoot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="php-orientado-a-objetos">PHP Orientado a Objetos<a class="headerlink" href="#php-orientado-a-objetos" title="Permanent link">Â¶</a></h1>
<details class="abstract">
<summary>DuraciÃ³n y criterios de evaluaciÃ³n</summary>
<p>DuraciÃ³n estimada: 18 sesiones</p>
<hr>
<p>Resultado de aprendizaje:</p>
<ol start="5">
<li>Desarrolla aplicaciones Web identificando y aplicando mecanismos para separar el cÃ³digo de presentaciÃ³n de la lÃ³gica de negocio.</li>
</ol>
<p>Criterios de evaluaciÃ³n:</p>
<ol>
<li>Se han identificado las ventajas de separar la lÃ³gica de negocio de los aspectos de presentaciÃ³n de la aplicaciÃ³n. </li>
<li>Se han analizado tecnologÃ­as y mecanismos que permiten realizar esta separaciÃ³n y sus caracterÃ­sticas principales. </li>
<li>Se han utilizado objetos y controles en el servidor para generar el aspecto visual de la aplicaciÃ³n web en el cliente. </li>
<li>Se han utilizado formularios generados de forma dinÃ¡mica para responder a los eventos de la aplicaciÃ³n Web. </li>
<li>Se han escrito aplicaciones Web con mantenimiento de estado y separaciÃ³n de la lÃ³gica de negocio. </li>
<li>Se han aplicado los principios de la programaciÃ³n orientada a objetos. </li>
<li>Se ha probado y documentado el cÃ³digo.</li>
</ol>
</details>
<h2 id="clases-y-objetos">Clases y Objetos<a class="headerlink" href="#clases-y-objetos" title="Permanent link">Â¶</a></h2>
<p>PHP sigue un paradigma de programaciÃ³n orientada a objetos (POO) basada en clases.</p>
<p>Un clase es un plantilla que define las propiedades y mÃ©todos para poder crear objetos. De este manera, un objeto es una instancia de una clase.</p>
<p>Tanto las propiedades como los mÃ©todos se definen con una visibilidad (quien puede acceder)</p>
<ul>
<li>Privado - <code>private</code>:  SÃ³lo puede acceder la propia clase.</li>
<li>Protegido - <code>protected</code>: SÃ³lo puede acceder la propia clase o sus descendientes.</li>
<li>PÃºblico - <code>public</code>: Puede acceder cualquier otra clase.</li>
</ul>
<p>Para declarar una clase, se utiliza la palabra clave <code>class</code> seguido del nombre de la clase. Para instanciar un objeto a partir de la clase, se utiliza <code>new</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">NombreClase</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="c1">// propiedades</span>
<span class="linenos" data-linenos="4 "></span><span class="c1">// y mÃ©todos</span>
<span class="linenos" data-linenos="5 "></span><span class="p">}</span>
<span class="linenos" data-linenos="6 "></span>
<span class="linenos" data-linenos="7 "></span><span class="nv">$ob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NombreClase</span><span class="p">();</span>
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Clases con mayÃºscula</p>
<p>Todas las clases empiezan por letra mayÃºscula.</p>
</div>
<p>Cuando un proyecto crece, es normal modelar las clases mediante UML (Â¿recordÃ¡is <em>Entornos de Desarrollo</em>?). La clases se representan mediante un cuadrado, separando el nombre, de las propiedades y los mÃ©todos:</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="img/uml.png" data-desc-position="bottom"><img alt="UML" src="img/uml.png" width="500"></a></p>
<p>Una vez que hemos creado un objeto, se utiliza el operador <code>-&gt;</code> para acceder a una propiedad o un mÃ©todo:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$objeto-&gt;propiedad;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$objeto-&gt;mÃ©todo(parÃ¡metros);</span>
</code></pre></div>
<p>Si desde dentro de la clase, queremos acceder a una propiedad o mÃ©todo de la misma clase, utilizaremos la referencia <code>$this</code>;</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$this-&gt;propiedad;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$this-&gt;mÃ©todo(parÃ¡metros);  </span>
</code></pre></div>
<p>AsÃ­ pues, como ejemplo, codificarÃ­amos una persona en el fichero <code>Persona.php</code> como:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">Persona&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span>&nbsp;<span class="nx">string</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">setNombre</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nom</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="o">=</span><span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">imprimir</span><span class="p">(){</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">echo</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">echo</span>&nbsp;<span class="s1">'&lt;br&gt;'</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="nv">$bruno&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Persona</span><span class="p">();</span> <span class="c1">// creamos un objeto</span>
<span class="linenos" data-linenos="16 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">setNombre</span><span class="p">(</span><span class="s2">"Bruno&nbsp;DÃ­az"</span><span class="p">);</span>
<span class="linenos" data-linenos="17 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">imprimir</span><span class="p">();</span>
</code></pre></div>
<p>Aunque se pueden declarar varias clases en el mismo archivo, es una mala prÃ¡ctica. AsÃ­ pues, cada fichero contedrÃ¡ una sola clase, y se nombrarÃ¡ con el nombre de la clase.</p>
<h2 id="encapsulacion">EncapsulaciÃ³n<a class="headerlink" href="#encapsulacion" title="Permanent link">Â¶</a></h2>
<p>Las propiedades se definen privadas o protegidas (si queremos que las clases heredadas puedan acceder).</p>
<p>Para cada propiedad, se aÃ±aden mÃ©todos pÃºblicos (<em>getter/setter</em>):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">public setPropiedad(tipo $param)</span>
<span class="linenos" data-linenos="2 "></span><span class="x">public getPropiedad() : tipo</span>
</code></pre></div>
<p>Las constantes se definen pÃºblicas para que sean accesibles por todos los recursos.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">MayorMenor&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span>&nbsp;<span class="nx">int</span> <span class="nv">$mayor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span>&nbsp;<span class="nx">int</span> <span class="nv">$menor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">setMayor</span><span class="p">(</span><span class="nx">int&nbsp;</span><span class="nv">$may</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mayor&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$may</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">setMenor</span><span class="p">(</span><span class="nx">int&nbsp;</span><span class="nv">$men</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menor&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$men</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getMayor</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">int&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">mayor</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getMenor</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">int&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="19 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menor</span><span class="p">;</span>
<span class="linenos" data-linenos="20 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="21 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="recibiendo-y-enviando-objetos">Recibiendo y enviando objetos<a class="headerlink" href="#recibiendo-y-enviando-objetos" title="Permanent link">Â¶</a></h3>
<p>Es recomendable indicarlo en el tipo de parÃ¡metros. Si el objeto puede devolver nulos se pone <code>?</code> delante del nombre de la clase.</p>
<div class="admonition important">
<p class="admonition-title">Objetos por referencia</p>
<p>Los objetos que se envÃ­an y reciben como parÃ¡metros siempre se pasan por referencia.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="hll"><span class="linenos" data-linenos=" 2 "></span><span class="k">function</span>&nbsp;<span class="nf">maymen</span><span class="p">(</span><span class="k">array</span>&nbsp;<span class="nv">$numeros</span><span class="p">)</span>&nbsp;<span class="o">:</span>&nbsp;<span class="o">?</span><span class="nx">MayorMenor&nbsp;</span><span class="p">{</span>
</span><span class="linenos" data-linenos=" 3 "></span>    <span class="nv">$a&nbsp;</span><span class="o">=</span>&nbsp;<span class="nb">max</span><span class="p">(</span><span class="nv">$numeros</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="nv">$b&nbsp;</span><span class="o">=</span>&nbsp;<span class="nb">min</span><span class="p">(</span><span class="nv">$numeros</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="nv">$result&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">MayorMenor</span><span class="p">();</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setMayor</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setMenor</span><span class="p">(</span><span class="nv">$b</span><span class="p">);</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">return</span>&nbsp;<span class="nv">$result</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span><span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="nv">$resultado&nbsp;</span><span class="o">=</span>&nbsp;&nbsp;<span class="nx">maymen</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">388</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">22</span><span class="p">]);</span>
<span class="linenos" data-linenos="14 "></span><span class="k">echo</span>&nbsp;<span class="s2">"&lt;br&gt;Mayor:&nbsp;"</span><span class="o">.</span><span class="nv">$resultado</span><span class="o">-&gt;</span><span class="na">getMayor</span><span class="p">();</span>
<span class="linenos" data-linenos="15 "></span><span class="k">echo</span>&nbsp;<span class="s2">"&lt;br&gt;Menor:&nbsp;"</span><span class="o">.</span><span class="nv">$resultado</span><span class="o">-&gt;</span><span class="na">getMenor</span><span class="p">();</span>
</code></pre></div>
<h2 id="constructor">Constructor<a class="headerlink" href="#constructor" title="Permanent link">Â¶</a></h2>
<p>El constructor de los objetos se define mediante el mÃ©todo mÃ¡gico <code>__construct</code>.
Puede o no tener parÃ¡metros, pero sÃ³lo puede haber un Ãºnico constructor.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">Persona&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span>&nbsp;<span class="nx">string</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="hll"><span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nom</span><span class="p">)</span>&nbsp;<span class="p">{</span>
</span><span class="linenos" data-linenos=" 6 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span> <span class="o">=</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">imprimir</span><span class="p">(){</span>
<span class="linenos" data-linenos="10 "></span>    &nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    &nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s1">'&lt;br&gt;'</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="nv">$bruno&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Persona</span><span class="p">(</span><span class="s2">"Bruno&nbsp;DÃ­az"</span><span class="p">);</span>
<span class="linenos" data-linenos="16 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">imprimir</span><span class="p">();</span>
</code></pre></div>
<h3 id="constructores-en-php-8">Constructores en PHP 8<a class="headerlink" href="#constructores-en-php-8" title="Permanent link">Â¶</a></h3>
<p>Una de las grandes novedades que ofrece PHP 8 es la simplificaciÃ³n de los constructores con parÃ¡metros, lo que se conoce como <em>promociÃ³n de las propiedades del constructor</em>.</p>
<p>Para ello, en vez de tener que declarar las propiedades como privadas o protegidas, y luego dentro del constructor tener que asignar los parÃ¡metros a estÃ¡s propiedades, el propio constructor promociona las propiedades.</p>
<p>VeÃ¡moslo mejor con un ejemplo. Imaginemos una clase <code>Punto</code> donde queramos almacenar sus coordenadas:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Punto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$x</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$y</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$z</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nx">float</span> <span class="nv">$x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="nx">float</span> <span class="nv">$y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="10 "></span>        <span class="nx">float</span> <span class="nv">$z</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">x</span> <span class="o">=</span> <span class="nv">$x</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">y</span> <span class="o">=</span> <span class="nv">$y</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">z</span> <span class="o">=</span> <span class="nv">$z</span><span class="p">;</span>
<span class="linenos" data-linenos="15 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="16 "></span><span class="p">}</span>
</code></pre></div>
<p>En PHP 8, quedarÃ­a del siguiente modo (mucho mÃ¡s corto, lo que facilita su legibilidad):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">Punto</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos="4 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="5 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="6 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$z</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="7 "></span>    <span class="p">)</span> <span class="p">{}</span>
<span class="linenos" data-linenos="8 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">El orden importa</p>
<p>A la hora de codificar el orden de los elementos debe ser:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">class</span> <span class="nc">NombreClase</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="c1">// propiedades</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="c1">// constructor</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="c1">// getters - setters</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>    <span class="c1">// resto de mÃ©todos</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="cp">?&gt;</span>
</code></pre></div>
</div>
<h2 id="clases-estaticas">Clases estÃ¡ticas<a class="headerlink" href="#clases-estaticas" title="Permanent link">Â¶</a></h2>
<p>Son aquellas que tienen propiedades y/o mÃ©todos estÃ¡ticos (tambiÃ©n se conocen como <em>de clase</em>, por que su valor se comparte entre todas las instancias de la misma clase).</p>
<p>Se declaran con <code>static</code> y se referencian con <code>::</code>.</p>
<ul>
<li>Si queremos acceder a un mÃ©todo estÃ¡tico, se antepone el nombre de la clase: <code>Producto::nuevoProducto()</code>.</li>
<li>Si desde un mÃ©todo queremos acceder a una propiedad estÃ¡tica de la misma clase, se utiliza la referencia <code>self</code>: <code>self::$numProductos</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">const</span> <span class="no">IVA</span> <span class="o">=</span> <span class="mf">0.23</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$numProductos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">nuevoProducto</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nx">self</span><span class="o">::</span><span class="nv">$numProductos</span><span class="o">++</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="nx">Producto</span><span class="o">::</span><span class="na">nuevoProducto</span><span class="p">();</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$impuesto</span> <span class="o">=</span> <span class="nx">Producto</span><span class="o">::</span><span class="na">IVA</span><span class="p">;</span>
</code></pre></div>
<p>TambiÃ©n podemos tener clases normales que tengan alguna propiedad estÃ¡tica:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">Producto&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">const</span>&nbsp;<span class="no">IVA&nbsp;</span><span class="o">=</span>&nbsp;<span class="mf">0.23</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span>&nbsp;<span class="k">static</span>&nbsp;<span class="nv">$numProductos&nbsp;</span><span class="o">=</span>&nbsp;<span class="mi">0</span><span class="p">;</span>&nbsp;
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">private</span>&nbsp;<span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span><span class="nx">string&nbsp;</span><span class="nv">$cod</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nx">self</span><span class="o">::</span><span class="nv">$numProductos</span><span class="o">++</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$cod</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">mostrarResumen</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">return</span>&nbsp;<span class="s2">"El&nbsp;producto&nbsp;"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="o">.</span><span class="s2">" es&nbsp;el&nbsp;nÃºmero&nbsp;"</span><span class="o">.</span><span class="nx">self</span><span class="o">::</span><span class="nv">$numProductos</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span>
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span><span class="nv">$prod1&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Producto</span><span class="p">(</span><span class="s2">"PS5"</span><span class="p">);</span>
<span class="linenos" data-linenos="18 "></span><span class="nv">$prod2&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Producto</span><span class="p">(</span><span class="s2">"XBOX&nbsp;Series&nbsp;X"</span><span class="p">);</span>
<span class="linenos" data-linenos="19 "></span><span class="nv">$prod3&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Producto</span><span class="p">(</span><span class="s2">"Nintendo&nbsp;Switch"</span><span class="p">);</span>
<span class="linenos" data-linenos="20 "></span><span class="k">echo</span>&nbsp;<span class="nv">$prod3</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
</code></pre></div>
<h2 id="introspeccion">IntrospecciÃ³n<a class="headerlink" href="#introspeccion" title="Permanent link">Â¶</a></h2>
<p>Al trabajar con clases y objetos, existen un conjunto de funciones ya definidas por el lenguaje que permiten obtener informaciÃ³n sobre los objetos:</p>
<ul>
<li><code>instanceof</code>: permite comprobar si un objeto es de una determinada clase</li>
<li><code>get_class</code>: devuelve el nombre de la clase</li>
<li><code>get_declared_class</code>: devuelve un array con los nombres de las clases definidas</li>
<li><code>class_alias</code>: crea un alias</li>
<li><code>class_exists</code> / <code>method_exists</code> / <code>property_exists</code>: <code>true</code> si la clase / mÃ©todo / propiedad estÃ¡ definida</li>
<li><code>get_class_methods</code> / <code>get_class_vars</code> / <code>get_object_vars</code>: Devuelve un array con los nombres de los mÃ©todos / propiedades de una clase / propiedades de un objeto que son accesibles desde dÃ³nde se hace la llamada.</li>
</ul>
<p>Un ejemplo de estas funciones puede ser el siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$p&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Producto</span><span class="p">(</span><span class="s2">"PS5"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">if</span>&nbsp;<span class="p">(</span><span class="nv">$p&nbsp;instanceof&nbsp;Producto</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">echo</span>&nbsp;<span class="s2">"Es&nbsp;un&nbsp;producto"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">echo</span>&nbsp;<span class="s2">"La&nbsp;clase&nbsp;es&nbsp;"</span><span class="o">.</span><span class="nb">get_class</span><span class="p">(</span><span class="nv">$p</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="nb">class_alias</span><span class="p">(</span><span class="s2">"Producto"</span><span class="p">,</span>&nbsp;<span class="s2">"Articulo"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="nv">$c&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Articulo</span><span class="p">(</span><span class="s2">"Nintendo&nbsp;Switch"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">echo</span>&nbsp;<span class="s2">"Un&nbsp;articulo&nbsp;es&nbsp;un&nbsp;"</span><span class="o">.</span><span class="nb">get_class</span><span class="p">(</span><span class="nv">$c</span><span class="p">);</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>    <span class="nb">print_r</span><span class="p">(</span><span class="nb">get_class_methods</span><span class="p">(</span><span class="s2">"Producto"</span><span class="p">));</span>
<span class="linenos" data-linenos="12 "></span>    <span class="nb">print_r</span><span class="p">(</span><span class="nb">get_class_vars</span><span class="p">(</span><span class="s2">"Producto"</span><span class="p">));</span>
<span class="linenos" data-linenos="13 "></span>    <span class="nb">print_r</span><span class="p">(</span><span class="nb">get_object_vars</span><span class="p">(</span><span class="nv">$p</span><span class="p">));</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">if</span>&nbsp;<span class="p">(</span><span class="nb">method_exists</span><span class="p">(</span><span class="nv">$p</span><span class="p">,</span>&nbsp;<span class="s2">"mostrarResumen"</span><span class="p">))</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="16 "></span>        <span class="nv">$p</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos="17 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="18 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition caution">
<p class="admonition-title">Clonado</p>
<p>Al asignar dos objetos no se copian, se crea una nueva referencia. Si queremos una copia, hay que clonarlo mediante el mÃ©todo <code>clone(object) : object</code></p>
<p>Si queremos modificar el clonado por defecto, hay que definir el mÃ©todo mÃ¡gico <code>__clone()</code> que se llamarÃ¡ despuÃ©s de copiar todas las propiedades.</p>
<p>MÃ¡s informaciÃ³n en <a href="https://www.php.net/manual/es/language.oop5.cloning.php">https://www.php.net/manual/es/language.oop5.cloning.php</a></p>
</div>
<h2 id="herencia">Herencia<a class="headerlink" href="#herencia" title="Permanent link">Â¶</a></h2>
<p>PHP soporta herencia simple, de manera que una clase solo puede heredar de otra, no de dos clases a la vez. Para ello se utiliza la palabra clave <code>extends</code>. Si queremos que la clase A hereda de la clase B haremos:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">class A extends B</span>
</code></pre></div>
<p>El hijo hereda los atributos y mÃ©todos pÃºblicos y protegidos.</p>
<div class="admonition warning">
<p class="admonition-title">Cada clase en un archivo</p>
<p>Como ya hemos comentado, deberÃ­amos colocar cada clase en un archivo diferente para posteriormente utilizarlo mediante <code>include</code>. En los siguiente ejemplo los hemos colocado junto para facilitar su legibilidad.</p>
</div>
<p>Por ejemplo, tenemos una clase <code>Producto</code> y una <code>Tv</code> que hereda de <code>Producto</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="nv">$nombreCorto</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="nv">$PVP</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Prod:"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="11 "></span><span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">public</span> <span class="nv">$pulgadas</span><span class="p">;</span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span><span class="p">}</span>
</code></pre></div>
<p>Podemos utilizar las siguientes funciones para averiguar si hay relaciÃ³n entre dos clases:</p>
<ul>
<li><code>get_parent_class(object): string</code></li>
<li><code>is_subclass_of(object, string): bool</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tv</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$t</span><span class="o">-&gt;</span><span class="na">codigo</span> <span class="o">=</span> <span class="mi">33</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">if</span> <span class="p">(</span><span class="nv">$t</span> <span class="nx">instanceof</span> <span class="nx">Producto</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">echo</span> <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos=" 6 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="nv">$padre</span> <span class="o">=</span> <span class="nb">get_parent_class</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
<span class="linenos" data-linenos=" 9 "></span><span class="k">echo</span> <span class="s2">"&lt;br&gt;La clase padre es: "</span> <span class="o">.</span> <span class="nv">$padre</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span><span class="nv">$objetoPadre</span> <span class="o">=</span> <span class="k">new</span> <span class="nv">$padre</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span><span class="k">echo</span> <span class="nv">$objetoPadre</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">is_subclass_of</span><span class="p">(</span><span class="nv">$t</span><span class="p">,</span> <span class="s1">'Producto'</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">echo</span> <span class="s2">"&lt;br&gt;Soy un hijo de Producto"</span><span class="p">;</span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="sobreescribir-metodos">Sobreescribir mÃ©todos<a class="headerlink" href="#sobreescribir-metodos" title="Permanent link">Â¶</a></h3>
<p>Podemos crear mÃ©todos en los hijos con el mismo nombre que el padre, cambiando su comportamiento.
Para invocar a los mÃ©todos del padre -&gt; <code>parent::nombreMetodo()</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>   <span class="k">public</span> <span class="nv">$pulgadas</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>   <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>   <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>      <span class="k">parent</span><span class="o">::</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos=" 8 "></span>      <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pulgadas</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>   <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="constructor-en-hijos">Constructor en hijos<a class="headerlink" href="#constructor-en-hijos" title="Permanent link">Â¶</a></h3>
<p>En los hijos no se crea ningÃºn constructor de manera automÃ¡tica. Por lo que si no lo hay, se invoca automÃ¡ticamente al del padre. En cambio, si lo definimos en el hijo, hemos de invocar al del padre de manera explÃ­cita.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">PHP7</label><label for="__tabbed_1_2">PHP8</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$codigo</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span> <span class="o">=</span>&nbsp;<span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Prod:"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">public</span> <span class="nv">$pulgadas</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span><span class="nx">string&nbsp;</span><span class="nv">$codigo</span><span class="p">,</span>&nbsp;<span class="nx">int&nbsp;</span><span class="nv">$pulgadas</span><span class="p">,</span>&nbsp;<span class="nx">string&nbsp;</span><span class="nv">$tecnologia</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="19 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$codigo</span><span class="p">);</span>
<span class="linenos" data-linenos="20 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pulgadas&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$pulgadas</span><span class="p">;</span>
<span class="linenos" data-linenos="21 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="22 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="23 "></span>
<span class="linenos" data-linenos="24 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="25 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos="26 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pulgadas</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="27 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="28 "></span><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span><span class="k">private</span> <span class="nx">string</span> <span class="nv">$codigo</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Prod:"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>        
<span class="linenos" data-linenos=" 8 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos="13 "></span>        <span class="nx">string&nbsp;</span><span class="nv">$codigo</span><span class="p">,</span>
<span class="linenos" data-linenos="14 "></span>        <span class="k">private</span> <span class="nx">int&nbsp;</span><span class="nv">$pulgadas</span><span class="p">,</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">private</span> <span class="nx">string&nbsp;</span><span class="nv">$tecnologia</span><span class="p">)</span>
<span class="linenos" data-linenos="16 "></span>    <span class="p">{</span>
<span class="linenos" data-linenos="17 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$codigo</span><span class="p">);</span>
<span class="linenos" data-linenos="18 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="19 "></span>
<span class="linenos" data-linenos="20 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="21 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos="22 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pulgadas</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="23 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="24 "></span><span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="clases-abstractas">Clases abstractas<a class="headerlink" href="#clases-abstractas" title="Permanent link">Â¶</a></h2>
<p>Las clases abstractas obligan a heredar de una clase, ya que no se permite su instanciaciÃ³n. Se define mediante <code>abstract class NombreClase {</code>.<br>
Una clase abstracta puede contener propiedades y mÃ©todos no-abstractos, y/o mÃ©todos abstractos.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">//&nbsp;Clase&nbsp;abstracta</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">abstract</span>&nbsp;<span class="k">class</span>&nbsp;<span class="nc">Producto&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span>&nbsp;<span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getCodigo</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="c1">//&nbsp;MÃ©todo&nbsp;abstracto</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">abstract</span>&nbsp;<span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
</code></pre></div>
<p>Cuando una clase hereda de una clase abstracta, obligatoriamente debe implementar los mÃ©todos que tiene el padre marcados como abstractos.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producto</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="nv">$pulgadas</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//obligado a implementarlo</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;CÃ³digo "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getCodigo</span><span class="p">()</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">pulgadas</span><span class="o">.</span><span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tv</span><span class="p">();</span>
<span class="linenos" data-linenos="13 "></span><span class="k">echo</span> <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">getCodigo</span><span class="p">();</span>
</code></pre></div>
<h2 id="clases-finales">Clases finales<a class="headerlink" href="#clases-finales" title="Permanent link">Â¶</a></h2>
<p>Son clases opuestas a abstractas, ya que evitan que se pueda heredar una clase o mÃ©todo para sobreescribirlo.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">Producto&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span>&nbsp;<span class="nv">$codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getCodigo</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">final</span>&nbsp;<span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">mostrarResumen</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">return</span>&nbsp;<span class="s2">"Producto&nbsp;"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codigo</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span><span class="c1">// No podremos heredar de Microondas</span>
<span class="linenos" data-linenos="15 "></span><span class="k">final</span>&nbsp;<span class="k">class</span>&nbsp;<span class="nc">Microondas&nbsp;extends&nbsp;Producto&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="16 "></span>    <span class="k">private</span>&nbsp;<span class="nv">$potencia</span><span class="p">;</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getPotencia</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">int&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="19 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">potencia</span><span class="p">;</span>
<span class="linenos" data-linenos="20 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="21 "></span>
<span class="linenos" data-linenos="22 "></span>    <span class="c1">// No podemos implementar mostrarResumen()</span>
<span class="linenos" data-linenos="23 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="interfaces">Interfaces<a class="headerlink" href="#interfaces" title="Permanent link">Â¶</a></h2>
<p>Permite definir un contrato con las firmas de los mÃ©todos a cumplir. AsÃ­ pues, sÃ³lo contiene declaraciones de funciones y todas deben ser pÃºblicas.</p>
<p>Se declaran con la palabra clave <code>interface</code> y luego las clases que cumplan el contrato lo realizan mediante la palabra clave <code>implements</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">interface</span> <span class="nx">Nombreable</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="c1">// declaraciÃ³n de funciones</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>
<span class="linenos" data-linenos="5 "></span><span class="k">class</span> <span class="nc">NombreClase</span> <span class="k">implements</span> <span class="nx">NombreInterfaz</span> <span class="p">{</span>
<span class="linenos" data-linenos="6 "></span><span class="c1">// cÃ³digo de la clase</span>
</code></pre></div>
<p>Se permite la herencia de interfaces. AdemÃ¡s, una clase puede implementar varios interfaces (en este caso, sÃ­ soporta la herecia mÃºltiple, pero sÃ³lo de interfaces).</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">interface</span>&nbsp;<span class="nx">Mostrable&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">mostrarResumen</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="k">interface</span>&nbsp;<span class="nx">MostrableTodo&nbsp;extends&nbsp;Mostrable&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">mostrarTodo</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="k">interface</span>&nbsp;<span class="nx">Facturable&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">generarFactura</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span><span class="k">class</span>&nbsp;<span class="nc">Producto&nbsp;implements&nbsp;MostrableTodo</span><span class="p">,</span>&nbsp;<span class="nx">Facturable&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>    <span class="c1">//&nbsp;Implementaciones&nbsp;de&nbsp;los&nbsp;mÃ©todos</span>
<span class="linenos" data-linenos="16 "></span>    <span class="c1">// Obligatoriamente deberÃ¡ implementar public&nbsp;function&nbsp;mostrarResumen, mostrarTodo y generarFactura</span>
<span class="linenos" data-linenos="17 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="metodos-encadenados">MÃ©todos encadenados<a class="headerlink" href="#metodos-encadenados" title="Permanent link">Â¶</a></h2>
<p>Sigue el planteamiento de la programaciÃ³n funcional, y tambiÃ©n se conoce como <em>method chaining</em>. Plantea que sobre un objeto se realizan varias llamadas.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$p1&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Libro</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$p1</span><span class="o">-&gt;</span><span class="na">setNombre</span><span class="p">(</span><span class="s2">"Harry&nbsp;Potter"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span><span class="nv">$p1</span><span class="o">-&gt;</span><span class="na">setAutor</span><span class="p">(</span><span class="s2">"JK&nbsp;Rowling"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">echo</span>&nbsp;<span class="nv">$p1</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="c1">// Method chaining</span>
<span class="linenos" data-linenos=" 8 "></span><span class="nv">$p2&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Libro</span><span class="p">();</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nv">$p2</span><span class="o">-&gt;</span><span class="na">setNombre</span><span class="p">(</span><span class="s2">"Patria"</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setAutor</span><span class="p">(</span><span class="s2">"Aramburu"</span><span class="p">);</span>
<span class="linenos" data-linenos="10 "></span><span class="k">echo</span>&nbsp;<span class="nv">$p2</span><span class="p">;</span>
</code></pre></div>
<p>Para facilitarlo, vamos a modificar todos sus mÃ©todos mutadores (que modifican datos, <em>setters</em>, ...) para que devuelvan una referencia a <code>$this</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">Libro&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span>&nbsp;<span class="nx">string&nbsp;</span><span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span>&nbsp;<span class="nx">string&nbsp;</span><span class="nv">$autor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getNombre</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">setNombre</span><span class="p">(</span><span class="nx">string&nbsp;</span><span class="nv">$nombre</span><span class="p">)</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">Libro&nbsp;</span><span class="p">{</span>&nbsp;
<span class="linenos" data-linenos="10 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">getAutor</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="17 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">setAutor</span><span class="p">(</span><span class="nx">string&nbsp;</span><span class="nv">$autor</span><span class="p">)</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">Libro&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="18 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$autor</span><span class="p">;</span>
<span class="linenos" data-linenos="19 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="p">;</span>
<span class="linenos" data-linenos="20 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="21 "></span>
<span class="linenos" data-linenos="22 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__toString</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">string&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="23 "></span>        <span class="k">return</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre</span><span class="o">.</span><span class="s2">"&nbsp;de&nbsp;"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
<span class="linenos" data-linenos="24 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="25 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="metodos-magicos">MÃ©todos mÃ¡gicos<a class="headerlink" href="#metodos-magicos" title="Permanent link">Â¶</a></h2>
<p>Todas las clases PHP ofrecen un conjunto de mÃ©todos, tambiÃ©n conocidos como <em>magic methods</em> que se pueden sobreescribir para sustituir su comportamiento. Algunos de ellos ya los hemos utilizado.</p>
<p>Ante cualquier duda, es conveniente consultar la <a href="https://www.php.net/manual/es/language.oop5.magic.php">documentaciÃ³n oficial</a>.</p>
<p>Los mÃ¡s destacables son:</p>
<ul>
<li><code>__construct()</code></li>
<li><code>__destruct()</code> â se invoca al perder la referencia. Se utiliza para cerrar una conexiÃ³n a la BD, cerrar un fichero, ...</li>
<li><code>__toString()</code> â representaciÃ³n del objeto como cadena. Es decir, cuando hacemos <code>echo $objeto</code> se ejecuta automÃ¡ticamente este mÃ©todo.</li>
<li><code>__get(propiedad)</code>, <code>__set(propiedad, valor)</code> â PermitirÃ­a acceder a las propiedad privadas, aunque siempre es mÃ¡s legible/mantenible codificar los <em>getter/setter</em>.</li>
<li><code>__isset(propiedad)</code>, <code>__unset(propiedad)</code> â Permite averiguar o quitar el valor a una propiedad.</li>
<li><code>__sleep()</code>, <code>__wakeup()</code> â Se ejecutan al recuperar (<em>unserialize^</em>) o almacenar un objeto que se serializa (<em>serialize</em>), y se utilizan para permite definir quÃ© propiedades se serializan.</li>
<li><code>__call()</code>, <code>__callStatic()</code> â Se ejecutan al llamar a un mÃ©todo que no es pÃºblico. Permiten sobrecargan mÃ©todos.</li>
</ul>
<h2 id="espacio-de-nombres">Espacio de nombres<a class="headerlink" href="#espacio-de-nombres" title="Permanent link">Â¶</a></h2>
<p>Desde PHP 5.3 y tambiÃ©n conocidos como <em>Namespaces</em>, permiten organizar las clases/interfaces, funciones y/o constantes de forma similar a los paquetes en <em>Java</em>.</p>
<div class="admonition tip">
<p class="admonition-title">RecomendaciÃ³n</p>
<p>Un sÃ³lo namespace por archivo y crear una estructura de carpetas respectando los niveles/subniveles (igual que se hace en <em>Java</em>)</p>
</div>
<p>Se declaran en la primera lÃ­nea mediante la palabra clave <code>namespace</code> seguida del nombre del espacio de nombres asignado (cada subnivel se separa con la barra invertida <code>\</code>):</p>
<p>Por ejemplo, para colocar la clase <code>Producto</code> dentro del <em>namespace</em> <code>Dwes\Ejemplos</code> lo harÃ­amos asÃ­:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span>&nbsp;<span class="nx">Dwes\Ejemplos</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">const</span>&nbsp;<span class="no">IVA&nbsp;</span><span class="o">=</span>&nbsp;<span class="mf">0.21</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="k">class</span>&nbsp;<span class="nc">Producto&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span>&nbsp;<span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    &nbsp;&nbsp;
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">muestra</span><span class="p">()</span>&nbsp;<span class="o">:</span>&nbsp;<span class="nx">void&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">echo</span><span class="s2">"&lt;p&gt;Prod:"</span>&nbsp;<span class="o">.</span>&nbsp;<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nombre&nbsp;</span><span class="o">.</span>&nbsp;<span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="acceso">Acceso<a class="headerlink" href="#acceso" title="Permanent link">Â¶</a></h3>
<p>Para referenciar a un recurso que contiene un namespace, primero hemos de tenerlo disponible haciendo uso de <code>include</code> o <code>require</code>. Si el recurso estÃ¡ en el mismo <em>namespace</em>, se realiza un acceso directo (se conoce como acceso sin cualificar).</p>
<p>Realmente hay tres tipos de acceso:</p>
<ul>
<li>sin cualificar: <code>recurso</code></li>
<li>cualificado: <code>rutaRelativa\recurso</code> â no hace falta poner el <em>namespace</em> completo</li>
<li>totalmente cualificado: <code>\rutaAbsoluta\recurso</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span>&nbsp;<span class="nx">Dwes\Ejemplos</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">include_once</span><span class="p">(</span><span class="s2">"Producto.php"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="k">echo</span>&nbsp;<span class="nx">IVA</span><span class="p">;</span>&nbsp;<span class="c1">//&nbsp;sin&nbsp;cualificar</span>
<span class="linenos" data-linenos=" 7 "></span><span class="k">echo</span>&nbsp;<span class="nx">Utilidades\IVA</span><span class="p">;</span>&nbsp;<span class="c1">// acceso cualificado. DarÃ­a error, no existe \Dwes\Ejemplos\Utilidades\IVA</span>
<span class="linenos" data-linenos=" 8 "></span><span class="k">echo</span>&nbsp;<span class="nx">\Dwes\Ejemplos\IVA</span><span class="p">;</span>&nbsp;<span class="c1">//&nbsp;totalmente&nbsp;cualificado</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="nv">$p1&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Producto</span><span class="p">();</span>&nbsp;<span class="c1">//&nbsp;lo busca en el mismo namespace y encuentra \Dwes\Ejemplos\Producto</span>
<span class="linenos" data-linenos="11 "></span><span class="nv">$p2&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Model\Producto</span><span class="p">();</span> <span class="c1">// darÃ­a error, no existe el namespace Model. EstÃ¡ buscando \Dwes\Ejemplos\Model\Producto</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$p3&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">\Dwes\Ejemplos\Producto</span><span class="p">();</span> <span class="c1">//&nbsp;\Dwes\Ejemplos\Producto</span>
</code></pre></div>
<p>Para evitar la referencia cualificada podemos declarar el uso mediante <code>use</code> (similar a hacer <code>import</code> en <em>Java</em>). Se hace en la cabecera, tras el <code>namespace</code>:</p>
<p>Los tipos posibles son:</p>
<ul>
<li><code>use const nombreCualificadoConstante</code></li>
<li><code>use function nombreCualificadoFuncion</code></li>
<li><code>use nombreCualificadoClase</code></li>
<li><code>use nombreCualificadoClase as NuevoNombre</code> // para renombrar elementos</li>
</ul>
<p>Por ejemplo, si queremos utilizar la clase <code>\Dwes\Ejemplos\Producto</code> desde un recurso que se encuentra en la raÃ­z, por ejemplo en <code>inicio.php</code>, harÃ­amos:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">include_once</span><span class="p">(</span><span class="s2">"Dwes\Ejemplo\Producto.php"</span><span class="p">);</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">use</span>&nbsp;<span class="k">const</span>&nbsp;<span class="no">Dwes\Ejemplos\IVA</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span><span class="k">use</span>&nbsp;<span class="nx">\Dwes\Ejemplos\Producto</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span>
<span class="linenos" data-linenos="7 "></span><span class="k">echo</span>&nbsp;<span class="nx">IVA</span><span class="p">;</span>
<span class="linenos" data-linenos="8 "></span><span class="nv">$p1&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Producto</span><span class="p">();</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">To <code>use</code> or not to <code>use</code></p>
<p>En resumen, <code>use</code> permite acceder sin cualificar a recursos que estÃ¡n en otro <em>namespace</em>. Si estamos en el mismo espacio de nombre, no necesitamos <code>use</code>.</p>
</div>
<h3 id="organizacion">OrganizaciÃ³n<a class="headerlink" href="#organizacion" title="Permanent link">Â¶</a></h3>
<p>Todo proyecto, conforme crece, necesita organizar su cÃ³digo fuente. Se plantea una organizaciÃ³n en la que los archivos que interactuan con el navegador se colocan en el raÃ­z, y las clases que definamos van dentro de un namespace (y dentro de su propia carpeta <code>src</code> o <code>app</code>).</p>
<figure>
<a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="img/03organizacion.png" data-desc-position="bottom"><img src="img/03organizacion.png"></a>
<figcaption>OrganizaciÃ³n del cÃ³digo fuente</figcaption>
</figure>

<div class="admonition tip">
<p class="admonition-title">OrganizaciÃ³n, includes y usos</p>
<ul>
<li>Colocaremos cada recurso en un fichero aparte.</li>
<li>En la primera lÃ­nea indicaremos su <em>namespace</em> (si no estÃ¡ en el raÃ­z).</li>
<li>Si utilizamos otros recursos, haremos un <code>include_once</code> de esos recursos (clases, interfaces, etc...).</li>
<li>Cada recurso debe incluir todos los otros recursos que referencie: la clase de la que hereda, interfaces que implementa, clases utilizadas/recibidas como parÃ¡metros, etc...</li>
<li>Si los recursos estÃ¡n en un espacio de nombres diferente al que estamos, emplearemos <code>use</code> con la ruta completa para luego utilizar referencias sin cualificar.</li>
</ul>
</div>
<h3 id="autoload">Autoload<a class="headerlink" href="#autoload" title="Permanent link">Â¶</a></h3>
<p>Â¿No es tedioso tener que hacer el <code>include</code> de las clases? El <em>autoload</em> viene al rescate.</p>
<p>AsÃ­ pues, permite cargar las clases (no las constantes ni las funciones) que se van a utilizar y evitar tener que hacer el <code>include_once</code> de cada una de ellas. Para ello, se utiliza la funciÃ³n <code>spl_autoload_register</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">spl_autoload_register</span><span class="p">(</span>&nbsp;<span class="k">function</span><span class="p">(</span>&nbsp;<span class="nv">$nombreClase&nbsp;</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">include_once</span>&nbsp;<span class="nv">$nombreClase</span><span class="o">.</span><span class="s1">'.php'</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>&nbsp;<span class="p">);</span>
<span class="linenos" data-linenos="5 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Â¿Por quÃ© se llaman <em>autoload</em>?</p>
<p>Porque antes se realizaba mediante el mÃ©todo mÃ¡gico <code>__autoload()</code>, el cual estÃ¡ <em>deprecated</em> desde PHP 7.2</p>
</div>
<p>Y Â¿cÃ³mo organizamos ahora nuestro cÃ³digo aprovechando el <em>autoload</em>?</p>
<figure style="float: right;">
    <a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="img/03autoload.png" data-desc-position="bottom"><img src="img/03autoload.png" width="600"></a>
    <figcaption>OrganizaciÃ³n con autoload</figcaption>
</figure>

<p>Para facilitar la bÃºsqueda de los recursos a incluir, es recomendable colocar todas las clases dentro de una misma carpeta. Nosotros la vamos a colocar dentro de <code>app</code> (mÃ¡s adelante, cuando estudiemos <em>Laravel</em> veremos el motivo de esta decisiÃ³n). Otras carpetas que podemos crear son <code>test</code> para colocar las pruebas <em>PhpUnit</em> que luego realizaremos, o la carpeta <code>vendor</code> donde se almacenarÃ¡n las librerÃ­as del proyecto (esta carpeta es un estÃ¡ndard dentro de PHP, ya que <em>Composer</em> la crea automÃ¡ticamente).</p>
<p>Como hemos colocado todos nuestros recursos dentro de <code>app</code>, ahora nuestro <code>autoload.php</code> (el cual colocamos en la carpeta raÃ­z) sÃ³lo va a buscar dentro de esa carpeta:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">spl_autoload_register</span><span class="p">(</span>&nbsp;<span class="k">function</span><span class="p">(</span>&nbsp;<span class="nv">$nombreClase&nbsp;</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">include_once</span>&nbsp;<span class="s2">"app/"</span><span class="o">.</span><span class="nv">$nombreClase</span><span class="o">.</span><span class="s1">'.php'</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>&nbsp;<span class="p">);</span>
<span class="linenos" data-linenos="5 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Autoload y rutas errÃ³neas</p>
<p>En <em>Ubuntu</em> al hacer el <em>include</em> de la clase que recibe como parÃ¡metro, las barras de los namespace (<code>\</code>) son diferentes a las de las rutas (<code>/</code>). Por ello, es mejor que utilicemos el fichero autoload:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">spl_autoload_register</span><span class="p">(</span>&nbsp;<span class="k">function</span><span class="p">(</span>&nbsp;<span class="nv">$nombreClase&nbsp;</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="nv">$ruta</span> <span class="o">=</span> <span class="s2">"app</span><span class="se">\\</span><span class="s2">"</span><span class="o">.</span><span class="nv">$nombreClase</span><span class="o">.</span><span class="s1">'.php'</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span>    <span class="nv">$ruta</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s2">"</span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">,</span> <span class="nv">$ruta</span><span class="p">);</span> <span class="c1">// Sustituimos las barras</span>
<span class="linenos" data-linenos="5 "></span>    <span class="k">include_once</span>&nbsp;<span class="nv">$ruta</span><span class="err">'</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>&nbsp;<span class="p">);</span>
<span class="linenos" data-linenos="7 "></span><span class="cp">?&gt;</span>
</code></pre></div>
</div>
<h2 id="gestion-de-errores">GestiÃ³n de Errores<a class="headerlink" href="#gestion-de-errores" title="Permanent link">Â¶</a></h2>
<p>PHP clasifica los errores que ocurren en diferentes niveles. Cada nivel se identifica con una constante. Por ejemplo:</p>
<ul>
<li><code>E_ERROR</code>: errores fatales, no recuperables. Se interrumpe el script.</li>
<li><code>E_WARNING</code>: advertencias en tiempo de ejecuciÃ³n. El script no se interrumpe.</li>
<li><code>E_NOTICE</code>: avisos en tiempo de ejecuciÃ³n.</li>
</ul>
<p>PodÃ©is comprobar el listado completo de constantes de <a href="https://www.php.net/manual/es/errorfunc.constants.php">https://www.php.net/manual/es/errorfunc.constants.php</a></p>
<p>Para la configuraciÃ³n de los errores podemos hacerlo de dos formas:</p>
<ul>
<li>A nivel de <code>php.ini</code>:<ul>
<li><code>error_reporting</code>: indica los niveles de errores a notificar<ul>
<li><code>error_reporting = E_ALL &amp; ~E_NOTICE</code> -&gt; Todos los errores menos los avisos en tiempo de ejecuciÃ³n.</li>
</ul>
</li>
<li><code>display_errors</code>: indica si mostrar o no los errores por pantalla. En entornos de producciÃ³n es comÃºn ponerlo a <code>off</code></li>
</ul>
</li>
<li>mediante cÃ³digo con las siguientes funciones:<ul>
<li><code>error_reporting(codigo)</code> -&gt; Controla quÃ© errores notificar</li>
<li><code>set_error_handler(nombreManejador)</code> -&gt; Indica que funciÃ³n se invocarÃ¡ cada vez que se encuentre un error. El manejador recibe como parÃ¡metros el nivel del error y el mensaje</li>
</ul>
</li>
</ul>
<p>A continuaciÃ³n tenemos un ejemplo mediante cÃ³digo:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Funciones para la gestiÃ³n de errores</label><label for="__tabbed_2_2">Consola</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nb">error_reporting</span><span class="p">(</span><span class="k">E_ALL</span>&nbsp;<span class="o">&amp;</span>&nbsp;<span class="o">~</span><span class="nx">E_NOTICE&nbsp;</span><span class="o">&amp;</span>&nbsp;<span class="o">~</span><span class="k">E_WARNING</span><span class="p">);</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$resultado&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$dividendo&nbsp;</span><span class="o">/</span>&nbsp;<span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span><span class="nb">error_reporting</span><span class="p">(</span><span class="k">E_ALL</span>&nbsp;<span class="o">&amp;</span>&nbsp;<span class="o">~</span><span class="nx">E_NOTICE</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span><span class="nb">set_error_handler</span><span class="p">(</span><span class="s2">"miManejadorErrores"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span><span class="nv">$resultado&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$dividendo&nbsp;</span><span class="o">/</span>&nbsp;<span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="nb">restore_error_handler</span><span class="p">();</span>&nbsp;<span class="c1">//&nbsp;vuelve&nbsp;al&nbsp;anterior</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="k">function</span>&nbsp;<span class="nf">miManejadorErrores</span><span class="p">(</span><span class="nv">$nivel</span><span class="p">,</span>&nbsp;<span class="nv">$mensaje</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>    <span class="k">switch</span><span class="p">(</span><span class="nv">$nivel</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>        <span class="k">case</span>&nbsp;<span class="k">E_WARNING</span><span class="o">:</span>
<span class="linenos" data-linenos="13 "></span>            <span class="k">echo</span>&nbsp;<span class="s2">"&lt;strong&gt;Warning&lt;/strong&gt;:&nbsp;</span><span class="si">$mensaje</span><span class="s2">.&lt;br/&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>            <span class="k">break</span><span class="p">;</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">default</span><span class="o">:</span>
<span class="linenos" data-linenos="16 "></span>            <span class="k">echo</span>&nbsp;<span class="s2">"Error&nbsp;de&nbsp;tipo&nbsp;no&nbsp;especificado:&nbsp;</span><span class="si">$mensaje</span><span class="s2">.&lt;br/&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="17 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="18 "></span><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Error de tipo no especificado: Undefined variable: dividendo.
<span class="linenos" data-linenos="2 "></span>Error de tipo no especificado: Undefined variable: divisor.
<span class="linenos" data-linenos="3 "></span>Error de tipo Warning: Division by zero.
</code></pre></div>
</div>
</div>
</div>
<h2 id="excepciones">Excepciones<a class="headerlink" href="#excepciones" title="Permanent link">Â¶</a></h2>
<p>La gestiÃ³n de excepciones forma parte desde PHP 5. Su funcionamiento es similar a <em>Java</em>, haciendo uso de un bloque <code>try / catch / finally</code>.
Si detectamos una situaciÃ³n anÃ³mala y queremos lanzar una excepciÃ³n, deberemos realizar <code>throw new Exception</code> (adjuntando el mensaje que lo ha provocado).</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">if</span>&nbsp;<span class="p">(</span><span class="nv">$divisor&nbsp;</span><span class="o">==</span>&nbsp;<span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>        <span class="k">throw</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Exception</span><span class="p">(</span><span class="s2">"DivisiÃ³n&nbsp;por&nbsp;cero."</span><span class="p">);</span>
<span class="linenos" data-linenos="5 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="6 "></span>    <span class="nv">$resultado&nbsp;</span><span class="o">=</span>&nbsp;<span class="nv">$dividendo&nbsp;</span><span class="o">/</span>&nbsp;<span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">Exception&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="8 "></span>    <span class="k">echo</span>&nbsp;<span class="s2">"Se&nbsp;ha&nbsp;producido&nbsp;el&nbsp;siguiente&nbsp;error:&nbsp;"</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<p>La clase <code>Exception</code> es la clase padre de todas las excepciones. Su constructor recibe <code>mensaje[,codigoError][,excepcionPrevia]</code>.</p>
<p>A partir de un objeto <code>Exception</code>, podemos acceder a los mÃ©todos <code>getMessage()</code>y <code>getCode()</code> para obtener el mensaje y el cÃ³digo de error de la excepciÃ³n capturada.</p>
<p>El propio lenguaje ofrece un conjunto de excepciones ya definidas, las cuales podemos capturar (y lanzar desde PHP 7). Se recomienda su consulta en la <a href="https://www.php.net/manual/es/class.exception.php">documentaciÃ³n oficial</a>.</p>
<h3 id="creando-excepciones">Creando excepciones<a class="headerlink" href="#creando-excepciones" title="Permanent link">Â¶</a></h3>
<p>Para crear una excepciÃ³n, la forma mÃ¡s corta es crear una clase que Ãºnicamente herede de <code>Exception</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span>&nbsp;<span class="nc">HolaExcepcion&nbsp;extends&nbsp;Exception&nbsp;</span><span class="p">{}</span>
</code></pre></div>
<p>Si queremos, y es recomendable dependiendo de los requisitos, podemos sobrecargar los mÃ©todos mÃ¡gicos, por ejemplo, sobrecargando el constructor y llamando al constructor del padre, o rescribir el mÃ©todo <code>__toString</code> para cambiar su mensaje:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">MiExcepcion&nbsp;extends&nbsp;Exception&nbsp;</span><span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__construct</span><span class="p">(</span><span class="nv">$msj</span><span class="p">,</span>&nbsp;<span class="nv">$codigo&nbsp;</span><span class="o">=</span>&nbsp;<span class="mi">0</span><span class="p">,</span>&nbsp;<span class="nx">Exception&nbsp;</span><span class="nv">$previa&nbsp;</span><span class="o">=</span>&nbsp;<span class="k">null</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;cÃ³digo&nbsp;propio</span>
<span class="linenos" data-linenos=" 5 "></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$msj</span><span class="p">,</span>&nbsp;<span class="nv">$codigo</span><span class="p">,</span>&nbsp;<span class="nv">$previa</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="fm">__toString</span><span class="p">()</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">return</span>&nbsp;<span class="no">__CLASS__</span>&nbsp;<span class="o">.</span>&nbsp;<span class="s2">":&nbsp;[</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">code</span><span class="si">}</span><span class="s2">]:&nbsp;</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">public</span>&nbsp;<span class="k">function</span>&nbsp;<span class="nf">miFuncion</span><span class="p">()</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s2">"Una&nbsp;funciÃ³n&nbsp;personalizada&nbsp;para&nbsp;este&nbsp;tipo&nbsp;de&nbsp;excepciÃ³n</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
</code></pre></div>
<p>Si definimos una excepciÃ³n de aplicaciÃ³n dentro de un <em>namespace</em>, cuando referenciemos a <code>Exception</code>, deberemos referenciarla mediante su nombre totalmente cualificado (<code>\Exception</code>), o utilizando <code>use</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Mediante nombre totalmente cualificado</label></div>
<div class="tabbed-content">
<div class="tabbed-block"></div>
</div>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span> <span class="nx">\Dwes\Ejemplos</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">class</span>&nbsp;<span class="nc">AppExcepcion&nbsp;extends&nbsp;\Exception&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="sb">```</span>
<span class="linenos" data-linenos=" 6 "></span><span class="sb">=== "Mediante `</span><span class="k">use</span><span class="sb">`"</span>
<span class="linenos" data-linenos=" 7 "></span><span class="sb">```</span> <span class="nx">php</span>
<span class="linenos" data-linenos=" 8 "></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="linenos" data-linenos=" 9 "></span><span class="k">namespace</span> <span class="nx">\Dwes\Ejemplos</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>    <span class="k">use</span> <span class="nx">Exception</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span>    <span class="k">class</span>&nbsp;<span class="nc">AppExcepcion&nbsp;extends&nbsp;Exception&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos="14 "></span>    <span class="sb">```</span>
<span class="linenos" data-linenos="15 "></span>
<span class="linenos" data-linenos="16 "></span><span class="sb">### Excepciones mÃºltiples</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span><span class="sb">Se pueden usar excepciones mÃºltiples para comprobar diferentes condiciones. A la hora de capturarlas, se hace de mÃ¡s especÃ­fica a mÃ¡s general.</span>
<span class="linenos" data-linenos="19 "></span>
<span class="linenos" data-linenos="20 "></span><span class="sb">```</span> <span class="nx">php</span>
<span class="linenos" data-linenos="21 "></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="linenos" data-linenos="22 "></span><span class="nv">$email&nbsp;</span><span class="o">=</span>&nbsp;<span class="s2">"ejemplo@ejemplo.com"</span><span class="p">;</span>
<span class="linenos" data-linenos="23 "></span><span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="24 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;Comprueba&nbsp;si&nbsp;el&nbsp;email&nbsp;es&nbsp;vÃ¡lido</span>
<span class="linenos" data-linenos="25 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">if</span><span class="p">(</span><span class="nb">filter_var</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span>&nbsp;<span class="nx">FILTER_VALIDATE_EMAIL</span><span class="p">)</span>&nbsp;<span class="o">===</span>&nbsp;<span class="k">FALSE</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="26 "></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">throw</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">MiExcepcion</span><span class="p">(</span><span class="nv">$email</span><span class="p">);</span>
<span class="linenos" data-linenos="27 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
<span class="linenos" data-linenos="28 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;Comprueba&nbsp;la&nbsp;palabra&nbsp;ejemplo&nbsp;en&nbsp;la&nbsp;direcciÃ³n&nbsp;email</span>
<span class="linenos" data-linenos="29 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">if</span><span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span>&nbsp;<span class="s2">"ejemplo"</span><span class="p">)</span>&nbsp;<span class="o">!==</span>&nbsp;<span class="k">FALSE</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="30 "></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">throw</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">Exception</span><span class="p">(</span><span class="s2">"</span><span class="si">$email&nbsp;es&nbsp;un&nbsp;email&nbsp;de&nbsp;ejemplo</span><span class="s2"> no vÃ¡lido"</span><span class="p">);</span>
<span class="linenos" data-linenos="31 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="p">}</span>
<span class="linenos" data-linenos="32 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">MiExcepcion&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="33 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">miFuncion</span><span class="p">();</span>
<span class="linenos" data-linenos="34 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span><span class="p">(</span><span class="nx">Exception&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="35 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="36 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">AutoevaluaciÃ³n</p>
<p>Â¿QuÃ© pasarÃ­a al ejectuar el siguiente cÃ³digo?</p>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span>&nbsp;<span class="nc">MainException&nbsp;extends&nbsp;Exception&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span>&nbsp;<span class="nc">SubException&nbsp;extends&nbsp;MainException&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>    &nbsp;&nbsp;&nbsp;&nbsp;<span class="k">throw</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">SubException</span><span class="p">(</span><span class="s2">"Lanzada&nbsp;SubException"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">MainException&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>    &nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s2">"Capturada&nbsp;MainException&nbsp;"</span>&nbsp;<span class="o">.</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">SubException&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>    &nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s2">"Capturada&nbsp;SubException&nbsp;"</span>&nbsp;<span class="o">.</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">Exception&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>    &nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s2">"Capturada&nbsp;Exception&nbsp;"</span>&nbsp;<span class="o">.</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="13 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>    <span class="sb">```</span>
<span class="linenos" data-linenos="15 "></span>
<span class="linenos" data-linenos="16 "></span><span class="sb">Si en el mismo `</span><span class="k">catch</span><span class="sb">` queremos capturar varias excepciones, hemos de utilizar el operador `</span><span class="o">|</span><span class="sb">`:</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span><span class="sb">```</span> <span class="nx">php</span>
<span class="linenos" data-linenos="19 "></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="linenos" data-linenos="20 "></span><span class="k">class</span>&nbsp;<span class="nc">MainException&nbsp;extends&nbsp;Exception&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos="21 "></span><span class="k">class</span>&nbsp;<span class="nc">SubException&nbsp;extends&nbsp;MainException&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos="22 "></span>
<span class="linenos" data-linenos="23 "></span><span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="24 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">throw</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">SubException</span><span class="p">(</span><span class="s2">"Lanzada&nbsp;SubException"</span><span class="p">);</span>
<span class="linenos" data-linenos="25 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">MainException&nbsp;</span><span class="o">|</span>&nbsp;<span class="nx">SubException&nbsp;</span><span class="nv">$e&nbsp;</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="26 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s2">"Capturada&nbsp;Exception&nbsp;"</span>&nbsp;<span class="o">.</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="27 "></span><span class="p">}</span>
</code></pre></div>
<p>Desde PHP 7, existe el tipo <code>Throwable</code>, el cual es un interfaz que implementan tanto los errores como las excepciones, y nos permite capturar los dos tipos a la vez:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;tu&nbsp;codigo</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">Throwable&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s1">'Forma&nbsp;de&nbsp;capturar&nbsp;errores&nbsp;y&nbsp;excepciones&nbsp;a&nbsp;la&nbsp;vez'</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
</code></pre></div>
<p>Si sÃ³lo queremos capturar los errores fatales, podemos hacer uso de la clase <code>Error</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;Genera&nbsp;una&nbsp;notificaciÃ³n&nbsp;que&nbsp;no&nbsp;se&nbsp;captura</span>
<span class="linenos" data-linenos="4 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="nv">$variableNoAsignada</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;Error&nbsp;fatal&nbsp;que&nbsp;se&nbsp;captura</span>
<span class="linenos" data-linenos="6 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="nx">funcionQueNoExiste</span><span class="p">();</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">Error&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="8 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">echo</span>&nbsp;<span class="s2">"Error&nbsp;capturado:&nbsp;"</span>&nbsp;<span class="o">.</span>&nbsp;<span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="relanzar-excepciones">Relanzar excepciones<a class="headerlink" href="#relanzar-excepciones" title="Permanent link">Â¶</a></h3>
<p>En las aplicaciones reales, es muy comÃºn capturar una excepciÃ³n de sistema y lanzar una de aplicaciÃ³n que hemos definido nostros.
TambiÃ©n podemos lanzar las excepciones sin necesidad de estar dentro de un <code>try/catch</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span>&nbsp;<span class="nc">AppException&nbsp;extends&nbsp;Exception&nbsp;</span><span class="p">{}</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">try</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="c1">//&nbsp;CÃ³digo&nbsp;de&nbsp;negocio&nbsp;que&nbsp;falla</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>&nbsp;<span class="k">catch</span>&nbsp;<span class="p">(</span><span class="nx">Exception&nbsp;</span><span class="nv">$e</span><span class="p">)</span>&nbsp;<span class="p">{</span>
<span class="linenos" data-linenos="7 "></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="k">throw</span>&nbsp;<span class="k">new</span>&nbsp;<span class="nx">AppException</span><span class="p">(</span><span class="s2">"AppException:&nbsp;"</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getCode</span><span class="p">(),</span>&nbsp;<span class="nv">$e</span><span class="p">);</span>
<span class="linenos" data-linenos="8 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="spl">SPL<a class="headerlink" href="#spl" title="Permanent link">Â¶</a></h2>
<p><em>Standard PHP Library</em> es el conjunto de funciones y utilidades que ofrece PHP, como:</p>
<ul>
<li>Estructuras de datos<ul>
<li>Pila, cola, cola de prioridad, lista doblemente enlazada, etc...</li>
</ul>
</li>
<li>Conjunto de iteradores diseÃ±ados para recorrer estructuras agregadas<ul>
<li>arrays, resultados de bases de datos, Ã¡rboles XML, listados de directorios, etc.</li>
</ul>
</li>
</ul>
<p>PodÃ©is consultar la documentaciÃ³n en <a href="https://www.php.net/manual/es/book.spl.php">https://www.php.net/manual/es/book.spl.php</a> o ver algunos ejemplos en <a href="https://diego.com.es/tutorial-de-la-libreria-spl-de-php">https://diego.com.es/tutorial-de-la-libreria-spl-de-php</a></p>
<p>TambiÃ©n define un conjunto de excepciones que podemos utilizar para que las lancen nuestras aplicaciones:</p>
<ul>
<li><code>LogicException</code> (<code>extends Exception</code>)<ul>
<li><code>BadFunctionCallException</code></li>
<li><code>BadMethodCallException</code></li>
<li><code>DomainException</code></li>
<li><code>InvalidArgumentException</code></li>
<li><code>LengthException</code></li>
<li><code>OutOfRangeException</code></li>
</ul>
</li>
<li><code>RuntimeException</code> (<code>extends Exception</code>)<ul>
<li><code>OutOfBoundsException</code></li>
<li><code>OverflowException</code></li>
<li><code>RangeException</code></li>
<li><code>UnderflowException</code></li>
<li><code>UnexpectedValueException</code></li>
</ul>
</li>
</ul>
<p>TambiÃ©n podÃ©is consultar la documentaciÃ³n de estas excepciones en <a href="https://www.php.net/manual/es/spl.exceptions.php">https://www.php.net/manual/es/spl.exceptions.php</a>.</p>
<h2 id="referencias">Referencias<a class="headerlink" href="#referencias" title="Permanent link">Â¶</a></h2>
<ul>
<li><a href="https://www.php.net/manual/es/index.php">Manual de PHP</a></li>
<li><a href="https://desarrolloweb.com/manuales/manual-php.html#manual68">Manual de OO en PHP - www.desarrolloweb.com</a></li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Darrera actualitzaciÃ³">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">12 dâoctubre de 2025</span>
  </span>

    
    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2025 Xavier Sastre - Llicencia CC BY-NC-SA <a href="#__consent">Canvia configuraciÃ³ de les galetes</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  





<h4>Consentiment Ãºs galetes</h4>
<p>Utilitzem galetes per reconÃ¨ixer les vostres visites, aixÃ­ com mesurar l'eficÃ cia de la nostra documentaciÃ³ i si els usuaris troben allÃ² que estan buscant. Amb el teu consentiment, ens ajudes a millorar la nostra documentaciÃ³.</p>
<input class="md-toggle" type="checkbox" id="__settings">
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
          
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accepta</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Rebutja</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestiona la configuraciÃ³</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "toc.integrate", "content.tabs.link", "content.tooltips", "content.code.select", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../assets/extra.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>