<!DOCTYPE html><html lang="ca" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docencia.xaviersastre.cat/Moduls/DWES/UT03PHPPOO.html">
      
      
        <link rel="prev" href="exercicisisolucions/UT02PHPExercicis.html">
      
      
        <link rel="next" href="exercicisisolucions/UT03PHPPOOExercicis.html">
      
      
      <link rel="icon" href="../../imatges/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.9">
    
    
      
        <title>Material teòric - Docencia Xavier</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="../../css/neoteroi-mkdocs.css">
    
      <link rel="stylesheet" href="../../css/custom_admonitions.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-KXJX1CP7QG"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-KXJX1CP7QG",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-KXJX1CP7QG",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="Teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ut03-php-orientat-a-objectes" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href="../../index.html" title="Docencia Xavier" class="md-header__button md-logo" aria-label="Docencia Xavier" data-md-component="logo">
      
  <img src="../../imatges/education_blanc.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Docencia Xavier
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Material teòric
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="Teal" aria-label="Canviar a mode nit" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Canviar a mode nit" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="Teal" aria-label="Canviar a mode dia" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Canviar a mode dia" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Docencia Xavier" class="md-nav__button md-logo" aria-label="Docencia Xavier" data-md-component="logo">
      
  <img src="../../imatges/education_blanc.png" alt="logo">

    </a>
    Docencia Xavier
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inici
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            NC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducció i index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2">
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT01 Compliment normatiu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            UT01 Compliment normatiu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/UT01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/presentacions/01%20Unitat%201%20-%20Compliment%20%20normatiu_ok/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3">
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT02 Disseny de sistemes de gestió de compliment normatiu
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            UT02 Disseny de sistemes de gestió de compliment normatiu
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CECNC/UT02.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DWES
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            DWES
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1">
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT01 Arquitectures Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UT01 Arquitectures Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT01ArquitecturesWeb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="presentacions/DWESUT01 - Arquitectures i eines/index_HTML.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT01ArquitecturesWebVideo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vídeo resum de la unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mm/DWESUT01.mm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mapa conceptual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="flashcards/flashcards-DWES-UT01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashcards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT01ArquitecturesWebActivitats.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activitats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2">
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT02 Llenguatge PHP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UT02 Llenguatge PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT02PHP.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT02PHPVideo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vídeo resum de la unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="UT02PHPTest.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test autoavaluació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exercicisisolucions/UT02PHPExercicis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activitats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT03 Llenguatge PHP Orientat a Objectes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UT03 Llenguatge PHP Orientat a Objectes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="UT03PHPPOO.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#classes-i-objectes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes i Objectes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encapsulacio" class="md-nav__link">
    <span class="md-ellipsis">
      Encapsulació
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Encapsulació">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rebent-i-enviant-objectes" class="md-nav__link">
    <span class="md-ellipsis">
      Rebent i enviant objectes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constructor" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constructor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constructors-en-php-8" class="md-nav__link">
    <span class="md-ellipsis">
      Constructors en PHP 8
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes-estatiques" class="md-nav__link">
    <span class="md-ellipsis">
      Classes estàtiques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes estàtiques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#particularitats-de-les-classes-estatiques-en-php" class="md-nav__link">
    <span class="md-ellipsis">
      Particularitats de les classes estàtiques en PHP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introspeccio" class="md-nav__link">
    <span class="md-ellipsis">
      Introspecció
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#herencia" class="md-nav__link">
    <span class="md-ellipsis">
      Herència
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Herència">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sobreescriure-metodes" class="md-nav__link">
    <span class="md-ellipsis">
      Sobreescriure mètodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructor-en-fills" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor en fills
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes-abstractes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes abstractes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes-finals" class="md-nav__link">
    <span class="md-ellipsis">
      Classes finals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interficies" class="md-nav__link">
    <span class="md-ellipsis">
      Interfícies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodes-encadenats" class="md-nav__link">
    <span class="md-ellipsis">
      Mètodes encadenats
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodes-magics" class="md-nav__link">
    <span class="md-ellipsis">
      Mètodes màgics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#espai-de-noms" class="md-nav__link">
    <span class="md-ellipsis">
      Espai de noms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Espai de noms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acces" class="md-nav__link">
    <span class="md-ellipsis">
      Accés
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#organitzacio" class="md-nav__link">
    <span class="md-ellipsis">
      Organització
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autoload" class="md-nav__link">
    <span class="md-ellipsis">
      Autoload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestio-derrors" class="md-nav__link">
    <span class="md-ellipsis">
      Gestió d'Errors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#excepcions" class="md-nav__link">
    <span class="md-ellipsis">
      Excepcions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Excepcions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creant-excepcions" class="md-nav__link">
    <span class="md-ellipsis">
      Creant excepcions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#excepcions-multiples" class="md-nav__link">
    <span class="md-ellipsis">
      Excepcions múltiples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Excepcions múltiples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rellancar-excepcions" class="md-nav__link">
    <span class="md-ellipsis">
      Rellançar excepcions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spl" class="md-nav__link">
    <span class="md-ellipsis">
      SPL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencies" class="md-nav__link">
    <span class="md-ellipsis">
      Referències
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exercicisisolucions/UT03PHPPOOExercicis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Activitats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DWEC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            DWEC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1">
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT01 Arquitectures Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            UT01 Arquitectures Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/UT01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/presentacions/DWECUT01/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/mm/DWECUT01.mm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mapa conceptual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/flashcards/flashcards-UT01.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashcards
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2">
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT02 Llenguatge Javascript
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            UT02 Llenguatge Javascript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/UT02.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/presentacions/DWECUT02/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/mm/DWECUT02.mm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mapa conceptual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/flashcards/flashcards-UT02.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashcards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/exercicisisolucions/UT02Exercicis.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercicis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3">
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UT03 Model d’objectes predefinits a JavaScript.
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            UT03 Model d’objectes predefinits a JavaScript.
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/UT03.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Material teòric
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/presentacions/DWECUT03/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diapositives unitat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/mm/DWECUT02.mm.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mapa conceptual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DWEC/flashcards/flashcards-UT03.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashcards
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Projecte Intermodular
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Projecte Intermodular
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PI/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducció i índex
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bloc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2">
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Arxiva
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Arxiva
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3">
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/aws.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/amazon.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amazon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/coneixements-generals.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coneixements generals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dam.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/daw.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAW
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dwec.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DWEC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dwes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DWES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/docker.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/dynamodb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DynamoDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/general.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/html.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/js.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/java.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/javascript.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Javascript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/matem%C3%A0tiques.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matemàtiques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/php.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PHP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/psp.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PSP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/programaci%C3%B3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/programci%C3%B3-multifil.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programció multifil
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/projecte-intermodular.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projecte intermodular
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/springboot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBoot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div class="container">
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="img/UT03PHPPOOPortada.png"><img alt="portada" src="img/UT03PHPPOOPortada.png" style="width:auto;height:300px"></a></p>
</div>
<h1 id="ut03-php-orientat-a-objectes">UT03 PHP Orientat a Objectes<a class="headerlink" href="#ut03-php-orientat-a-objectes" title="Permanent link">¶</a></h1>
<details class="abstract">
<summary>Criteris d'avaluació</summary>
<hr>
<p>Resultat d'aprenentatge:</p>
<ol start="5">
<li>Desenvolupa aplicacions Web identificant i aplicant mecanismes per separar el codi de presentació de la lògica de negoci.</li>
</ol>
<p>Criteris d'avaluació:</p>
<ol>
<li>
<p>S'han identificat els avantatges de separar la lògica de negoci dels aspectes de presentació de l'aplicació.</p>
</li>
<li>
<p>S'han analitzat tecnologies i mecanismes que permeten realitzar aquesta separació i les seves característiques principals.</p>
</li>
<li>
<p>S'han utilitzat objectes i controls en el servidor per generar l'aspecte visual de l'aplicació web en el client.</p>
</li>
<li>
<p>S'han utilitzat formularis generats de forma dinàmica per respondre als esdeveniments de l'aplicació Web.</p>
</li>
<li>
<p>S'han escrit aplicacions Web amb manteniment d'estat i separació de la lògica de negoci.</p>
</li>
<li>
<p>S'han aplicat els principis de la programació orientada a objectes.</p>
</li>
<li>
<p>S'ha provat i documentat el codi.</p>
</li>
</ol>
</details>
<h2 id="classes-i-objectes">Classes i Objectes<a class="headerlink" href="#classes-i-objectes" title="Permanent link">¶</a></h2>
<p>PHP segueix un paradigma de programació orientada a objectes (POO) basada en classes.</p>
<p>Una classe és una plantilla que defineix les propietats i mètodes per poder crear objectes. D'aquesta manera, un objecte és una instància d'una classe.</p>
<p>Tant les propietats com els mètodes es defineixen amb una visibilitat (qui pot accedir)</p>
<ul>
<li>Privat - <code>private</code>: Només hi pot accedir la pròpia classe.</li>
<li>Protegit - <code>protected</code>: Només hi pot accedir la pròpia classe o els seus descendents.</li>
<li>Públic - <code>public</code>: Pot accedir qualsevol altra classe.</li>
</ul>
<p>Per declarar una classe, s'utilitza la paraula clau <code>class</code> seguit del nom de la classe. Per a un objecte a partir de la classe, s'utilitza <code>new</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">NombreClase</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span><span class="c1">// propietats</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="c1">// i mètodes</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="nv">$ob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NombreClase</span><span class="p">();</span>  
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Classes amb majúscula</p>
<p>Totes les classes comencen per lletra majúscula.</p>
</div>
<p>Quan un projecte creix, és normal modelar les classes mitjançant UML (recordeu <em>Entorns de Desenvolupament</em>?). Les classes es representen mitjançant un quadrat, separant el nom, de les propietats i els mètodes:</p>
<figure>
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="img/uml.png"><img src="img/uml.png" style="width:auto;height:500px"></a>
<figcaption>UML</figcaption>
</figure>
<p>Un cop hem creat un objecte, s'utilitza l'operador <code>-&gt;</code> per accedir a una propietat o un mètode:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$objecte-&gt;propietat;</span>
<span class="linenos" data-linenos="2 "></span><span class="x">$objecte-&gt;mètode(paràmetres);  </span>
</code></pre></div>
<p>Si des de dins de la classe, volem accedir a una propietat o mètode de la mateixa classe, utilitzarem la referència <code>$this</code>;</p>
<p></p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">$this-&gt;propietat;</span>
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span><span class="x">$this-&gt;mètode(paràmetres);    </span>
</code></pre></div>
Així doncs, com a exemple, codificaríem una persona al fitxer <code>Persona.php</code> com:<p></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Persona</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setNom</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nom</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span><span class="o">=</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">imprimir</span><span class="p">(){</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="k">echo</span> <span class="s1">'&lt;br&gt;'</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="11 "></span><span class="p">}</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$bruno</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Persona</span><span class="p">();</span> <span class="c1">// creem un objecte</span>
<span class="linenos" data-linenos="13 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">setNom</span><span class="p">(</span><span class="s2">"Bruno Díaz"</span><span class="p">);</span>
<span class="linenos" data-linenos="14 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">imprimir</span><span class="p">();</span>  
</code></pre></div>
<p>Tot i que es poden declarar diverses classes al mateix arxiu, és una mala pràctica. Així doncs, cada fitxer contedrà una sola classe, i es nomenarà amb el nom de la classe.</p>
<h2 id="encapsulacio">Encapsulació<a class="headerlink" href="#encapsulacio" title="Permanent link">¶</a></h2>
<p>Les propietats es defineixen privades o protegides (si volem que les classes heretades hi puguin accedir).</p>
<p>Per a cada propietat, s'afegeixen mètodes públics (<em>getter/setter</em>):  </p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="x">public setPropietat(tipus $param)</span>
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span><span class="x">public getPropietat() : tipus  </span>
</code></pre></div>
<p>Les constants es defineixen públiques perquè siguin accessibles per tots els recursos.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">MajorMenor</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="nx">int</span> <span class="nv">$major</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">private</span> <span class="nx">int</span> <span class="nv">$menor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setMajor</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$maj</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">major</span> <span class="o">=</span> <span class="nv">$maj</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setMenor</span><span class="p">(</span><span class="nx">int</span> <span class="nv">$men</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menor</span> <span class="o">=</span> <span class="nv">$men</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getmajor</span><span class="p">()</span> <span class="o">:</span> <span class="nx">int</span> <span class="p">{</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">major</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getMenor</span><span class="p">()</span> <span class="o">:</span> <span class="nx">int</span> <span class="p">{</span>
<span class="linenos" data-linenos="16 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menor</span><span class="p">;</span>
<span class="linenos" data-linenos="17 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="18 "></span><span class="p">}</span>  
</code></pre></div>
<h3 id="rebent-i-enviant-objectes">Rebent i enviant objectes<a class="headerlink" href="#rebent-i-enviant-objectes" title="Permanent link">¶</a></h3>
<p>És recomanable indicar-ho en el tipus de paràmetres. Si l'objecte pot retornar nuls es posa <code>?</code> davant del nom de la classe.</p>
<div class="admonition important">
<p class="admonition-title">Objectes per referència</p>
<p>Els objectes que s'envien i reben com a paràmetres sempre es passen per referència.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">function</span> <span class="nf">majmen</span><span class="p">(</span><span class="k">array</span> <span class="nv">$numeros</span><span class="p">)</span> <span class="o">:</span> <span class="o">?</span><span class="nx">MajorMenor</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="nv">$a</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nv">$numeros</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="nv">$b</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nv">$numeros</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="nv">$result</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MajorMenor</span><span class="p">();</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setMajor</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">setMenor</span><span class="p">(</span><span class="nv">$b</span><span class="p">);</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="nv">$resultat</span> <span class="o">=</span> <span class="nx">majmen</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">388</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">22</span><span class="p">]);</span>
<span class="linenos" data-linenos="11 "></span><span class="k">echo</span> <span class="s2">"&lt;br&gt;Major: "</span><span class="o">.</span><span class="nv">$resultat</span><span class="o">-&gt;</span><span class="na">getMajor</span><span class="p">();</span>
<span class="linenos" data-linenos="12 "></span><span class="k">echo</span> <span class="s2">"&lt;br&gt;Menor: "</span><span class="o">.</span><span class="nv">$resultat</span><span class="o">-&gt;</span><span class="na">getMenor</span><span class="p">();</span>  
</code></pre></div>
<h2 id="constructor">Constructor<a class="headerlink" href="#constructor" title="Permanent link">¶</a></h2>
<p>El constructor dels objectes es defineix mitjançant el mètode màgic <code>__construct</code>. Pot o no tenir paràmetres, però només hi pot haver un únic constructor.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">Persona</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nom</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span> <span class="o">=</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">imprimir</span><span class="p">(){</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">echo</span> <span class="s1">'&lt;br&gt;'</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="nv">$bruno</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Persona</span><span class="p">(</span><span class="s2">"Bruno Díaz"</span><span class="p">);</span>
<span class="linenos" data-linenos="14 "></span><span class="nv">$bruno</span><span class="o">-&gt;</span><span class="na">imprimir</span><span class="p">();</span>  
</code></pre></div>
<h3 id="constructors-en-php-8">Constructors en PHP 8<a class="headerlink" href="#constructors-en-php-8" title="Permanent link">¶</a></h3>
<p>Una de les grans novetats que ofereix PHP 8 és la simplificació dels constructors amb paràmetres, el que es coneix com a <em>promoció de les propietats del constructor</em>.</p>
<p>Per a això, en comptes d'haver de declarar les propietats com a privades o protegides, i després dins del constructor haver d'assignar els paràmetres a aquestes propietats, el mateix constructor promociona les propietats.</p>
<p>Vegem-ho millor amb un exemple. Imaginem una classe <code>Punt</code> on vulguem emmagatzemar les seves coordenades:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Punt</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$x</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$y</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$z</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nx">float</span> <span class="nv">$x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nx">float</span> <span class="nv">$y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="nx">float</span> <span class="nv">$z</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos" data-linenos="10 "></span>    <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">x</span> <span class="o">=</span> <span class="nv">$x</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">i</span> <span class="o">=</span> <span class="nv">$y</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">z</span> <span class="o">=</span> <span class="nv">$z</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span>  
</code></pre></div>
<p>A PHP 8, quedaria de la següent manera (molt més curt, cosa que facilita la seva llegibilitat):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span>
<span class="linenos" data-linenos="3 "></span><span class="k">class</span> <span class="nc">Punt</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos="5 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="6 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="7 "></span>        <span class="k">protected</span> <span class="nx">float</span> <span class="nv">$z</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos" data-linenos="8 "></span>    <span class="p">)</span> <span class="p">{}</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>  
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">L'ordre importa</p>
<p>A l'hora de codificar l'ordre dels elements ha de ser:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">declare</span><span class="p">(</span> <span class="nx">strict_types</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">class</span> <span class="nc">NomClasse</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="c1">// propietats</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="c1">// constructor</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="c1">// getters - setters</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="c1">// resta de mètodes</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="cp">?&gt;</span>
</code></pre></div>
</div>
<h2 id="classes-estatiques">Classes estàtiques<a class="headerlink" href="#classes-estatiques" title="Permanent link">¶</a></h2>
<p>Una classe estàtica en PHP és una classe que no necessita ser instanciada per utilitzar els seus mètodes o propietats. Tota la funcionalitat d’aquest tipus de classe s’accedeix directament a través del nom de la classe, utilitzant l'operador de resolució d’àmbit ::. Les classes estàtiques serveixen per a crear mètodes i propietats que són comuns a totes les instàncies i que, per tant, no depenen d’un objecte específic.</p>
<h3 id="particularitats-de-les-classes-estatiques-en-php">Particularitats de les classes estàtiques en PHP<a class="headerlink" href="#particularitats-de-les-classes-estatiques-en-php" title="Permanent link">¶</a></h3>
<ul>
<li>Mètodes i propietats estàtiques: S’han de declarar amb la paraula clau static.</li>
<li>Accés a membres estàtics: Es fa mitjançant el nom de la classe, seguit de l’operador :: i el nom del membre estàtic. Per exemple: Classe::metodeEstatic().</li>
<li>No necessiten instanciar-se: No cal crear un objecte de la classe per a utilitzar els seus membres estàtics, cosa que fa la seva utilitat en funcionalitats que no requereixen informació d’un objecte en concret.</li>
<li>Limitacions: Un mètode estàtic no pot accedir a les propietats ni a methods no estàtics directament, ja que aquestes requereixen una instància de la classe per ser accedides.​</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Exemples pràctics</p>
<ul>
<li>Una funció que calcula un valor i que és útil des de qualsevol lloc sense necessitat d’instanciar, com una calculadora o utilitat general.</li>
<li>Comptadors globals que comparteixen una variable entre totes les instàncies, com en el cas de comptar quantes vegades s’ha cridat un mètode.</li>
</ul>
</div>
<p>En resum les classes estàtiques són útils quan es tracta de grups de funcions o dades que són globals per a tota la aplicació, no associades a un objecte concret. Tot i això, s’han d’utilitzar amb prudència, ja que poden complicar el manteniment del codi si s’abusa d’elles.
Es declaren amb <code>static</code> i es referencia amb <code>::</code>.</p>
<div class="admonition info">
<p class="admonition-title">Recordau!</p>
<ul>
<li>Si volem accedir a un mètode estàtic, s'anteposa el nom de la classe: <code>Producte::nouProducte()</code>.</li>
<li>Si des d'un mètode volem accedir a una propietat estàtica de la mateixa classe, s'utilitza la referència <code>self</code>: <code>self::$numProductes</code></li>
</ul>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">const</span> <span class="no">IVA</span> <span class="o">=</span> <span class="mf">0.23</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$numProductes</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">nouProducte</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nx">self</span><span class="o">::</span><span class="nv">$numProductes</span><span class="o">++</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span><span class="nx">Producte</span><span class="o">::</span> <span class="na">nouProducte</span><span class="p">();</span>
<span class="linenos" data-linenos="13 "></span><span class="nv">$impost</span> <span class="o">=</span> <span class="nx">Producte</span><span class="o">::</span><span class="na">IVA</span><span class="p">;</span>  
</code></pre></div>
<p>També podem tenir classes normals que tinguin alguna propietat estàtica:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">const</span> <span class="no">IVA</span> <span class="o">=</span> <span class="mf">0.23</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$numProductes</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">private</span> <span class="nv">$codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$cod</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="nx">self</span><span class="o">::</span><span class="nv">$numProductes</span><span class="o">++</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span> <span class="o">=</span> <span class="nv">$cod</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">return</span> <span class="s2">"El producte "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="o">.</span><span class="s2">" és el número "</span><span class="o">.</span><span class="nx">self</span><span class="o">::</span><span class="nv">$numProductes</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="nv">$prod1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Producte</span><span class="p">(</span><span class="s2">"PS5"</span><span class="p">);</span>
<span class="linenos" data-linenos="16 "></span><span class="nv">$prod2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Producte</span><span class="p">(</span><span class="s2">"XBOX Sèries X"</span><span class="p">);</span>
<span class="linenos" data-linenos="17 "></span><span class="nv">$prod3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Producte</span><span class="p">(</span><span class="s2">"Nintendo Switch"</span><span class="p">);</span>
<span class="linenos" data-linenos="18 "></span><span class="k">echo</span> <span class="nv">$prod3</span><span class="o">-&gt;</span><span class="na">mostrarResum</span><span class="p">();</span>  
</code></pre></div>
<h2 id="introspeccio">Introspecció<a class="headerlink" href="#introspeccio" title="Permanent link">¶</a></h2>
<p>En treballar amb classes i objectes, existeixen un conjunt de funcions ja definides pel llenguatge que permeten obtenir informació sobre els objectes:</p>
<ul>
<li><code>instanceof</code>: permet comprovar si un objecte és d'una determinada classe</li>
<li><code>get_class</code>: retorna el nom de la classe</li>
<li><code>get_declared_class</code>: retorna un vectoramb els noms de les classes definides</li>
<li><code>class_alias</code>: crea un àlies</li>
<li><code>class_exists</code> / <code>method_exists</code> / <code>property_exists</code>: <code>true</code> si la classe / mètode / propietat està definida</li>
<li><code>get_class_methods</code> / <code>get_class_vars</code> / <code>get_object_vars</code>: Retorna un vectoramb els noms dels mètodes / propietats d'una classe / propietats d'un objecte que són accessibles des d'on es fa la trucada.</li>
</ul>
<p>Un exemple d'aquestes funcions pot ser el següent:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Producte</span><span class="p">(</span><span class="s2">"PS5"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">if</span> <span class="p">(</span><span class="nv">$p</span> <span class="nx">instanceof</span> <span class="nx">Producte</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">echo</span> <span class="s2">"És un producte"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">echo</span> <span class="s2">"La classe és "</span><span class="o">.</span><span class="nb">get_class</span><span class="p">(</span><span class="nv">$p</span><span class="p">);</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>    <span class="nb">class_alias</span><span class="p">(</span><span class="s2">"Producte"</span><span class="p">,</span> <span class="s2">"Article"</span><span class="p">);</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span>    <span class="nv">$c</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Article</span><span class="p">(</span><span class="s2">"Nintendo Switch"</span><span class="p">);</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">echo</span> <span class="s2">"Un article és un "</span><span class="o">.</span><span class="nb">get_class</span><span class="p">(</span><span class="nv">$c</span><span class="p">);</span>
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span>    <span class="nb">print_r</span><span class="p">(</span><span class="nb">get_class_methods</span><span class="p">(</span><span class="s2">"Producte"</span><span class="p">));</span>
<span class="linenos" data-linenos="18 "></span>
<span class="linenos" data-linenos="19 "></span>    <span class="nb">print_r</span><span class="p">(</span><span class="nb">get_class_vars</span><span class="p">(</span><span class="s2">"Producte"</span><span class="p">));</span>
<span class="linenos" data-linenos="20 "></span>
<span class="linenos" data-linenos="21 "></span>    <span class="nb">print_r</span><span class="p">(</span><span class="nb">get_object_vars</span><span class="p">(</span><span class="nv">$p</span><span class="p">));</span>
<span class="linenos" data-linenos="22 "></span>
<span class="linenos" data-linenos="23 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nb">method_exists</span><span class="p">(</span><span class="nv">$p</span><span class="p">,</span> <span class="s2">"mostrarResumen"</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="24 "></span>
<span class="linenos" data-linenos="25 "></span>        <span class="nv">$p</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos="26 "></span>
<span class="linenos" data-linenos="27 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="28 "></span>
<span class="linenos" data-linenos="29 "></span><span class="p">}</span>  
</code></pre></div>
<div class="admonition caution">
<p class="admonition-title">Clonat</p>
<p>En assignar dos objectes no es copien, es crea una nova referència. Si volem una còpia, cal clonar-lo mitjançant el mètode <code>clone(object) : object</code></p>
<p>Si volem modificar el clonat per defecte, cal definir el mètode màgic '__clone()'que s'anomenarà després de copiar totes les propietats.</p>
<p>Més informació a <a href="https://www.php.net/manual/es/language.oop5.cloning.php">https://www.php.net/manual/es/language.oop5.cloning.php</a></p>
</div>
<h2 id="herencia">Herència<a class="headerlink" href="#herencia" title="Permanent link">¶</a></h2>
<p>PHP suporta herència simple, de manera que una classe només pot heretar d'una altra, no de dues classes alhora. Per a això s'utilitza la paraula clau <code>extends</code>. Si volem que la classe A hereta de la classe B farem:</p>
<p><code>class A extends B</code></p>
<p>El fill hereta els atributs i mètodes públics i protegits.</p>
<div class="admonition warning">
<p class="admonition-title">Cada classe en un arxiu</p>
<p>Com ja hem comentat, hauríem de col·locar cada classe en un arxiu diferent per posteriorment utilitzar-lo mitjançant <code>include</code>. En els següent exemple els hem col·locat al costat per facilitar la seva llegibilitat.</p>
</div>
<p>Per exemple, tenim una classe <code>Producte</code> i una <code>Tv</code> que hereta de <code>Producte</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="nv">$codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="nv">$nombreCorto</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>    <span class="k">public</span> <span class="nv">$PVP</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResumen</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Prod:"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="18 "></span>
<span class="linenos" data-linenos="19 "></span><span class="p">}</span>
<span class="linenos" data-linenos="20 "></span>
<span class="linenos" data-linenos="21 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos="22 "></span>
<span class="linenos" data-linenos="23 "></span>    <span class="k">public</span> <span class="nv">$polzades</span><span class="p">;</span>
<span class="linenos" data-linenos="24 "></span>
<span class="linenos" data-linenos="25 "></span>    <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="26 "></span>
<span class="linenos" data-linenos="27 "></span><span class="p">}</span>  
</code></pre></div>
<p>Podem utilitzar les següents funcions per esbrinar si hi ha relació entre dues classes:</p>
<ul>
<li><code>get_parent_class( object): string</code></li>
<li><code>is_subclass_of( object, string): bool</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tv</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$t</span><span class="o">-&gt;</span><span class="na">codi</span> <span class="o">=</span> <span class="mi">33</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">if</span> <span class="p">(</span><span class="nv">$t</span> <span class="nx">instanceof</span> <span class="nx">Producte</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">echo</span> <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">mostrarResumen</span><span class="p">();</span>
<span class="linenos" data-linenos=" 6 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span><span class="nv">$pare</span> <span class="o">=</span> <span class="nb">get_parent_class</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
<span class="linenos" data-linenos=" 8 "></span><span class="k">echo</span> <span class="s2">"&lt;br&gt;La classe pare és: "</span> <span class="o">.</span> <span class="nv">$pare</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nv">$objectePare</span> <span class="o">=</span> <span class="k">new</span> <span class="nv">$pare</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span><span class="k">echo</span> <span class="nv">$objectePare</span><span class="o">-&gt;</span><span class="na">mostrarResum</span><span class="p">();</span>
<span class="linenos" data-linenos="11 "></span><span class="k">if</span> <span class="p">(</span><span class="nb">is_subclass_of</span><span class="p">(</span><span class="nv">$t</span><span class="p">,</span> <span class="s1">'Producte'</span><span class="p">))</span> <span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">echo</span> <span class="s2">"&lt;br&gt;Som un fill de Producte"</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="sobreescriure-metodes">Sobreescriure mètodes<a class="headerlink" href="#sobreescriure-metodes" title="Permanent link">¶</a></h3>
<p>Podem crear mètodes en els fills amb el mateix nom que el pare, canviant el seu comportament. Per invocar els mètodes del pare -&gt; <code>parent::nomMetodo()</code>
</p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="k">public</span> <span class="nv">$polzades</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span><span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span><span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="6 "></span>      <span class="k">parent</span><span class="o">::</span><span class="na">mostrarResum</span><span class="p">();</span>
<span class="linenos" data-linenos="7 "></span>      <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">polzades</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="8 "></span><span class="p">}</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div><p></p>
<h3 id="constructor-en-fills">Constructor en fills<a class="headerlink" href="#constructor-en-fills" title="Permanent link">¶</a></h3>
<p>En els fills no es crea cap constructor de manera automàtica. Per la qual cosa si no n'hi ha, s'invoca automàticament el del pare. En canvi, si el definim en el fill, hem d'invocar el del pare de manera explícita.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">PHP7</label><label for="__tabbed_1_2">PHP8</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$codi</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span> <span class="o">=</span> <span class="nv">$codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Prod:"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
<span class="linenos" data-linenos="11 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span> <span class="nv">$polzades</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span>    <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$codi</span><span class="p">,</span> <span class="nx">int</span> <span class="nv">$polzades</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$tecnologia</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$codi</span><span class="p">);</span>
<span class="linenos" data-linenos="16 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">polzades</span> <span class="o">=</span> <span class="nv">$polzades</span><span class="p">;</span>
<span class="linenos" data-linenos="17 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span> <span class="o">=</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos="18 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="19 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="20 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">mostrarResum</span><span class="p">();</span>
<span class="linenos" data-linenos="21 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">polzades</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="22 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="23 "></span><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="k">private</span> <span class="nx">string</span> <span class="nv">$codi</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Prod:"</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span>
<span class="linenos" data-linenos="10 "></span>        <span class="nx">string</span> <span class="nv">$codi</span><span class="p">,</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">private</span> <span class="nx">int</span> <span class="nv">$polzades</span><span class="p">,</span>
<span class="linenos" data-linenos="12 "></span>        <span class="k">private</span> <span class="nx">string</span> <span class="nv">$tecnologia</span><span class="p">)</span>
<span class="linenos" data-linenos="13 "></span>    <span class="p">{</span>
<span class="linenos" data-linenos="14 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$codi</span><span class="p">);</span>
<span class="linenos" data-linenos="15 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="16 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="17 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">mostrarResum</span><span class="p">();</span>
<span class="linenos" data-linenos="18 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">polzades</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="19 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="20 "></span><span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="classes-abstractes">Classes abstractes<a class="headerlink" href="#classes-abstractes" title="Permanent link">¶</a></h2>
<p>Les classes abstractes obliguen a heretar d'una classe, ja que no es permet la seva instància. Es defineix mitjançant <code>abstract class NombreClase {</code>. Una classe abstracta pot contenir propietats i mètodes no-abstractes, i/o mètodes abstractes.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">// Classe abstracta</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="nv">$codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getCodi</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="c1">// Mètode abstracte</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">abstract</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">();</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
</code></pre></div>
<p>Quan una classe hereta d'una classe abstracta, obligatòriament ha d'implementar els mètodes que té el pare marcats com a abstractes.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Tv</span> <span class="k">extends</span> <span class="nx">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="nv">$polzades</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="nv">$tecnologia</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//obligat a implementar-lo</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;Codi "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getCodi</span><span class="p">()</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="k">echo</span> <span class="s2">"&lt;p&gt;TV "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">tecnologia</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">polzades</span><span class="o">.</span><span class="s2">" &lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tv</span><span class="p">();</span>
<span class="linenos" data-linenos="11 "></span><span class="k">echo</span> <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">getCodi</span><span class="p">();</span>
</code></pre></div>
<h2 id="classes-finals">Classes finals<a class="headerlink" href="#classes-finals" title="Permanent link">¶</a></h2>
<p>Són classes oposades a abstractes, ja que eviten que es pugui heretar una classe o mètode per sobreescriure'l.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span> <span class="nv">$codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getCodi</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">final</span> <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">return</span> <span class="s2">"Producte "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codi</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
<span class="linenos" data-linenos="11 "></span>
<span class="linenos" data-linenos="12 "></span><span class="c1">// No podrem heretar de Microones</span>
<span class="linenos" data-linenos="13 "></span>
<span class="linenos" data-linenos="14 "></span><span class="k">final</span> <span class="k">class</span> <span class="nc">Microones</span> <span class="k">extends</span> <span class="nx">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">private</span> <span class="nv">$potencia</span><span class="p">;</span>
<span class="linenos" data-linenos="16 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getPotencia</span><span class="p">()</span> <span class="o">:</span> <span class="nx">int</span> <span class="p">{</span>
<span class="linenos" data-linenos="17 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">potència</span><span class="p">;</span>
<span class="linenos" data-linenos="18 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="19 "></span>
<span class="linenos" data-linenos="20 "></span>    <span class="c1">// No podem implementar mostrarResum()</span>
<span class="linenos" data-linenos="21 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="interficies">Interfícies<a class="headerlink" href="#interficies" title="Permanent link">¶</a></h2>
<p>Permet definir un contracte amb les firmes dels mètodes a complir. Així doncs, només conté declaracions de funcions i totes han de ser públiques.</p>
<p>Es declaren amb la paraula clau <code>interfície</code> i després les classes que compleixin el contracte el realitzen mitjançant la paraula clau <code>implements</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">interface</span> <span class="nx">Nombrable</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span><span class="c1">// declaració de funcions</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span><span class="k">class</span> <span class="nc">NombClasse</span> <span class="k">implements</span> <span class="nx">NomInterface</span> <span class="p">{</span>
<span class="linenos" data-linenos="7 "></span>
<span class="linenos" data-linenos="8 "></span><span class="c1">// codi de la classe</span>
</code></pre></div>
<p>Es permet l'herència d'interfícies. A més, una classe pot implementar diversos interfícies (en aquest cas, sí que suporta l'herècia múltiple, però només d'interfícies).</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">interface</span> <span class="nx">Mostrable</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarResum</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span><span class="p">}</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="k">interface</span> <span class="nx">MostrableTot</span> <span class="k">extends</span> <span class="nx">Mostrable</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostrarTot</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span><span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="k">interface</span> <span class="nx">Facturable</span> <span class="p">{</span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">generarFactura</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="k">implements</span> <span class="nx">MostrableTot</span><span class="p">,</span> <span class="nx">Facturable</span> <span class="p">{</span>
<span class="linenos" data-linenos="16 "></span>    <span class="c1">// Implementacions dels mètodes</span>
<span class="linenos" data-linenos="17 "></span>    <span class="c1">// Obligatòriament haurà d'implementar public function mostrarResum, mostrarTot i generarFactura</span>
<span class="linenos" data-linenos="18 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="metodes-encadenats">Mètodes encadenats<a class="headerlink" href="#metodes-encadenats" title="Permanent link">¶</a></h2>
<p>Segueix el plantejament de la programació funcional, i també es coneix com <em>a method chaining</em>. Planteja que sobre un objecte es realitzen diverses trucades.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Llibre</span><span class="p">();</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$p1</span><span class="o">-&gt;</span><span class="na">setNom</span><span class="p">(</span><span class="s2">"Harry Potter"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 4 "></span><span class="nv">$p1</span><span class="o">-&gt;</span><span class="na">setAutor</span><span class="p">(</span><span class="s2">"JK Rowling"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">echo</span> <span class="nv">$p1</span><span class="p">;</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span><span class="c1">// Method chaining</span>
<span class="linenos" data-linenos=" 8 "></span><span class="nv">$p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Llibre</span><span class="p">();</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nv">$p2</span><span class="o">-&gt;</span><span class="na">setNom</span><span class="p">(</span><span class="s2">"Patria"</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setAutor</span><span class="p">(</span><span class="s2">"Aramburu"</span><span class="p">);</span>
<span class="linenos" data-linenos="10 "></span><span class="k">echo</span> <span class="nv">$p2</span><span class="p">;</span>
</code></pre></div>
<p>Per facilitar-ho, anam modificar tots els seus mètodes mutadors (que modifiquen dades, <em>setters</em>, ...) perquè retornin una referència a <code>$this</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Llibre</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$autor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getNom</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setNomb</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$nombre</span><span class="p">)</span> <span class="o">:</span> <span class="nx">Llibre</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span> <span class="o">=</span> <span class="nv">$nom</span><span class="p">;</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAutor</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
<span class="linenos" data-linenos="14 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="15 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setAutor</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$autor</span><span class="p">)</span> <span class="o">:</span> <span class="nx">Llibre</span> <span class="p">{</span>
<span class="linenos" data-linenos="16 "></span>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span> <span class="o">=</span> <span class="nv">$autor</span><span class="p">;</span>
<span class="linenos" data-linenos="17 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
<span class="linenos" data-linenos="18 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="19 "></span>
<span class="linenos" data-linenos="20 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__toString</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span>
<span class="linenos" data-linenos="21 "></span>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span><span class="o">.</span><span class="s2">" de "</span><span class="o">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autor</span><span class="p">;</span>
<span class="linenos" data-linenos="22 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="23 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="metodes-magics">Mètodes màgics<a class="headerlink" href="#metodes-magics" title="Permanent link">¶</a></h2>
<p>Totes les classes PHP ofereixen un conjunt de mètodes, també coneguts com <em>a magic methods</em> que es poden sobreescriure per substituir el seu comportament. Alguns d'ells ja els hem utilitzat.</p>
<p>Davant de qualsevol dubte, és convenient consultar la <a href="https://www.php.net/manual/es/language.oop5.magic.php">documentació oficial</a>.</p>
<p>Els més destacables són:</p>
<ul>
<li><code>__construct()</code></li>
<li><code>__destruct()</code> → s'invoca en perdre la referència. S'utilitza per tancar una connexió a la BD, tancar un fitxer, ...</li>
<li><code>__toString()</code> → representació de l'objecte com a cadena. És a dir, quan fem <code>esclat $objecte</code> s'executa automàticament aquest mètode.</li>
<li><code>__get(propietat)</code>, <code>__set(propietat, valor)</code> → Permetria accedir a les propietats privades, tot i que sempre és més llegible/mantenible codificar els <em>getter/setter</em>.</li>
<li><code>__isset(propietat)</code>, <code>__unset(propietat)</code> → Permet esbrinar o treure el valor a una propietat.</li>
<li><code>__sleep()</code>, <code>__wakeup()</code> → S'executen en recuperar (<em>unserialize</em>) o emmagatzemar un objecte que se serialitza (<em>serialize</em>), i s'utilitzen per a definir quines propietats se serialitzen.</li>
<li><code>__call()</code>, <code>__callStatic()</code> → S'executen en cridar a un mètode que no és públic. Permeten sobrecarreguen mètodes.</li>
</ul>
<h2 id="espai-de-noms">Espai de noms<a class="headerlink" href="#espai-de-noms" title="Permanent link">¶</a></h2>
<p>Des de PHP 5.3 i també coneguts com <em>a Namespaces</em>, permeten organitzar les classes/interfícies, funcions i/o constants de forma similar als paquets a <em>Java</em>.</p>
<div class="admonition tip">
<p class="admonition-title">Recomanació</p>
<p>Un sol namespace per arxiu i crear una estructura de carpetes respectant els nivells/subnivells (igual que es fa a <em>Java</em>)</p>
</div>
<p>Es declaren en la primera línia mitjançant la paraula clau <code>namespace</code> seguida del nom de l'espai de noms assignat (cada subnivell se separa amb la barra invertida <code>\</code>):</p>
<p>Per exemple, per col·locar la classe <code>Producte</code> dins del <em>namespace</em> <code>Dwes\Exemples</code> ho faríem així:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span> <span class="nx">DWES\Exemples</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">const</span> <span class="no">IVA</span> <span class="o">=</span> <span class="mf">0.21</span><span class="p">;</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="k">class</span> <span class="nc">Producte</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="nv">$nombre</span><span class="p">;</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">mostra</span><span class="p">()</span> <span class="o">:</span> <span class="nx">void</span> <span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">echo</span><span class="s2">"&lt;p&gt;Prod:"</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">nom</span> <span class="o">.</span> <span class="s2">"&lt;/p&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="11 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="acces">Accés<a class="headerlink" href="#acces" title="Permanent link">¶</a></h3>
<p>Per referenciar un recurs que conté un namespace, primer hem de tenir-lo disponible fent ús d'<code>include</code> o <code>require</code>. Si el recurs és al mateix <em>namespace</em>, es realitza un accés directe (es coneix com a accés sense qualificar).</p>
<p>Realment hi ha tres tipus d'accés:</p>
<ul>
<li>sense qualificar: <code>recurs</code></li>
<li>qualificat: <code>rutaRelativa\recurs</code> → no cal posar el <em>namespace</em> complet</li>
<li>totalment qualificat: <code>\rutaAbsoluta\recurs</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">namespace</span> <span class="nx">DWES\Exemples</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">include_once</span><span class="p">(</span><span class="s2">"Producte.php"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="k">echo</span> <span class="nx">IVA</span><span class="p">;</span> <span class="c1">// sense qualificar</span>
<span class="linenos" data-linenos=" 7 "></span><span class="k">echo</span> <span class="nx">Utilidades\IVA</span><span class="p">;</span> <span class="c1">// accés qualificat. Donaria error, no existeix \DWES\Exemples\Utilitats\IVA</span>
<span class="linenos" data-linenos=" 8 "></span><span class="k">echo</span> <span class="nx">\DWES\Exemples\IVA</span><span class="p">;</span> <span class="c1">//totalment qualificat</span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="nv">$p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Producte</span><span class="p">();</span> <span class="c1">// el busca al mateix namespace i troba \DWES\Exemples\Producte</span>
<span class="linenos" data-linenos="11 "></span><span class="nv">$p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Model\Producte</span><span class="p">();</span> <span class="c1">// donaria error, no existeix el namespace Model. Està buscant \DWES\Exemples\Model\Producte</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">$p3</span> <span class="o">=</span><span class="k">new</span> <span class="nx">\DWES\Exemples\Producte</span><span class="p">();</span> <span class="c1">// \DWES\Exemples\Producte</span>
</code></pre></div>
<p>Per evitar la referència qualificada podem declarar l'ús mitjançant <code>use</code> (similar a fer <code>import</code> a <em>Java</em>). Es fa a la capçalera, després del <code>namespace</code>:</p>
<p>Els tipus possibles són:</p>
<ul>
<li><code>use const nomQualificatConstant</code></li>
<li><code>use function nomQualificatFuncio</code></li>
<li><code>use nomQualificatClasse</code></li>
<li><code>use nomQualificatClasse as NouNom</code> // per renomenar elements</li>
</ul>
<p>Per exemple, si volem utilitzar la classe <code>\DWES\Exemples\Producte</code> des d'un recurs que es troba a l'arrel, per exemple a <code>inici.php</code>, faríem:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">include_once</span><span class="p">(</span><span class="s2">"DWES\Exemple\Producte.php"</span><span class="p">);</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">use</span> <span class="k">const</span> <span class="no">DWES\Exemples\IVA</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span><span class="k">use</span> <span class="nx">\DWES\Exemples\Producte</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span>
<span class="linenos" data-linenos="7 "></span><span class="k">echo</span> <span class="nx">IVA</span><span class="p">;</span>
<span class="linenos" data-linenos="8 "></span><span class="nv">$p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Producte</span><span class="p">();</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">To <code>use</code> or not to <code>use</code></p>
<p>En resum, <code>use</code> permet accedir sense qualificar recursos que estan en un altre <em>namespace</em>. Si estem en el mateix espai de nom, no necessitem <code>use</code>.</p>
</div>
<h3 id="organitzacio">Organització<a class="headerlink" href="#organitzacio" title="Permanent link">¶</a></h3>
<p>Tot projecte, a mesura que creix, necessita organitzar el seu codi font. Es planteja una organització en la qual els arxius que interactuen amb el navegador es col·loquen en l'arrel, i les classes que defensem van dins d'un namespace (i dins de la seva pròpia carpeta <code>o</code> <code>app</code>).</p>
<figure>
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="img/03organizacion.png"><img src="img/03organizacion.png" style="width:auto"></a>
<figcaption>Organització del codi font</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Organització, includes i usos</p>
<ul>
<li>Col·locarem cada recurs en un fitxer a part. </li>
<li>En la primera línia indicarem el seu <em>namespace</em> (si no està en l'arrel). </li>
<li>Si utilitzem altres recursos, farem un <code>include_once</code> d'aquests recursos (classes, interfícies, etc...). </li>
<li>Cada recurs ha d'incloure tots els altres recursos que referenciï: la classe de la qual hereta,  interfícies que implementa, classes utilitzades/rebudes com paràmetres, etc... </li>
<li>Si els recursos estan en un espai de noms diferent al que estem, emprarem <code>use</code> amb la ruta completa per a després utilitzar referències sense qualificar.</li>
</ul>
</div>
<h3 id="autoload">Autoload<a class="headerlink" href="#autoload" title="Permanent link">¶</a></h3>
<p>No és tediós haver de fer l <code>'include</code> de les classes? L <em>'autoload</em> ve al rescat.</p>
<p>Així doncs, permet carregar les classes (no les constants ni les funcions) que s'utilitzaran i evitar haver de fer el <code>include_once</code> de cadascuna d'elles. Per a això, s'utilitza la funció <code>spl_autoload_register</code></p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">spl_autoload_register</span><span class="p">(</span> <span class="k">function</span><span class="p">(</span> <span class="nv">$nomClasse</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">include_once</span> <span class="nv">$nomClasse</span><span class="o">.</span><span class="s1">'. php'</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span> <span class="p">);</span>
<span class="linenos" data-linenos="5 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Per què s'anomenen <em>autoload</em>?</p>
<p>Perquè abans es realitzava mitjançant el mètode màgic <code>__autoload()</code>, el qual està <em>deprecated</em> des de PHP 7.2</p>
</div>
<p>I com organitzem ara el nostre codi aprofitant l <em>'autoload</em>?</p>
<figure>
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="img/03autoload.png"><img src="img/03autoload.png" style="width:auto;height:500px"></a>
<figcaption>Organització amb autoload</figcaption>
</figure>
<p>Per facilitar la recerca dels recursos a incloure, és recomanable col·locar totes les classes dins d'una mateixa carpeta. Nosaltres la vam col·locar dins d <code>'app</code> (més endavant, quan estudiem <em>Laravel</em> veurem el motiu d'aquesta decisió). Altres carpetes que podem crear són <code>test</code> per col·locar les proves <em>PhpUnit</em> que després realitzarem, o la carpeta <code>vendor</code> on s'emmagatzemaran les llibreries del projecte (aquesta carpeta és un estàndard dins de PHP, ja que <em>Composer</em> la crea automàticament).</p>
<p>Com hem col·locat tots els nostres recursos dins d <code>'app</code>, ara el nostre <code>autoload.php</code> (el qual col·loquem a la carpeta arrel) només va a buscar dins d'aquesta carpeta:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">spl_autoload_register</span><span class="p">(</span> <span class="k">function</span><span class="p">(</span> <span class="nv">$nomClasse</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">include_once</span> <span class="s2">"app/"</span><span class="o">.</span><span class="nv">$nomClasse</span><span class="o">.</span><span class="s1">'. php'</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span> <span class="p">);</span>
<span class="linenos" data-linenos="5 "></span><span class="cp">?&gt;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Autoload i rutes errònies</p>
<p>A <em>Ubuntu</em> en  fer l'<em>incllueix</em> de la classe que rep com a paràmetre, les barres dels namespace (<code>\</code>) són diferents a les de les rutes (<code>/</code>). Per això, és millor que utilitzem el fitxer autoload:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">spl_autoload_register</span><span class="p">(</span> <span class="k">function</span><span class="p">(</span> <span class="nv">$nomClasse</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="nv">$ruta</span> <span class="o">=</span> <span class="s2">"app</span><span class="se">\\</span><span class="s2">"</span><span class="o">.</span><span class="nv">$nomClasse</span><span class="o">.</span><span class="s1">'. php'</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span>    <span class="nv">$ruta</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s2">"</span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">,</span> <span class="nv">$ruta</span><span class="p">);</span> <span class="c1">// Substituïm les barres</span>
<span class="linenos" data-linenos="5 "></span>    <span class="k">include_once</span> <span class="nv">$ruta</span><span class="err">'</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span> <span class="p">);</span>
<span class="linenos" data-linenos="7 "></span><span class="cp">?&gt;</span>
</code></pre></div>
</div>
<h2 id="gestio-derrors">Gestió d'Errors<a class="headerlink" href="#gestio-derrors" title="Permanent link">¶</a></h2>
<p>PHP classifica els errors que ocorren en diferents nivells. Cada nivell s'identifica amb una constant. Per exemple:</p>
<ul>
<li><code>E_ERROR</code>: errors fatals, no recuperables. S'interromp l'script.</li>
<li><code>E_WARNING</code>: advertències en temps d'execució. L'script no s'interromp.</li>
<li><code>E_NOTICE</code>: avisos en temps d'execució.</li>
</ul>
<p>Podeu comprovar el llistat complet de constants de <a href="https://www.php.net/manual/es/errorfunc.constants.php">https://www.php.net/manual/es/errorfunc.constants.php</a></p>
<p>Per a la configuració dels errors podem fer-ho de dues formes:</p>
<ul>
<li>A nivell de <code>php.ini</code>:<ul>
<li><code>error_reporting</code>: indica els nivells d'errors a notificar<ul>
<li><code>error_reporting = E_ALL &amp; ~E_NOTICE</code> -&gt; Tots els errors menys els avisos en temps d'execució.</li>
</ul>
</li>
<li><code>display_errors</code>: indica si mostrar o no els errors per pantalla. En entorns de producció és comú posar-lo a <code>off</code></li>
</ul>
</li>
<li>mitjançant codi amb les funcions següents:<ul>
<li><code>error_reporting(codi)</code> -&gt; Controla quins errors notificar</li>
<li><code>set_error_handler(nomManejador)</code> -&gt; Indica que s'invocarà cada vegada que es trobi un error. El manejador rep com a paràmetres el nivell de l'error i el missatge</li>
</ul>
</li>
</ul>
<p>A continuació tenim un exemple mitjançant codi:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Funcions per a la gestió d'errors</label><label for="__tabbed_2_2">Consola</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nb">error_reporting</span><span class="p">(</span><span class="k">E_ALL</span> <span class="o">&amp;</span><span class="nx">E_NOTICE</span> <span class="o">&amp;</span><span class="k">E_WARNING</span><span class="p">);</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nv">$resultat</span> <span class="o">=</span> <span class="nv">$divident</span> <span class="o">/</span> <span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 4 "></span><span class="nb">error_reporting</span><span class="p">(</span><span class="k">E_ALL</span> <span class="o">&amp;</span><span class="nx">E_NOTICE</span><span class="p">);</span>
<span class="linenos" data-linenos=" 5 "></span><span class="nb">set_error_handler</span><span class="p">(</span><span class="s2">"manejadorErrors"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span><span class="nv">$resultat</span> <span class="o">=</span> <span class="nv">$divident</span> <span class="o">/</span> <span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos=" 7 "></span><span class="nb">restore_error_handler</span><span class="p">();</span> <span class="c1">// torna a l'anterior</span>
<span class="linenos" data-linenos=" 8 "></span><span class="k">function</span> <span class="nf">manejadorErrors</span><span class="p">(</span><span class="nv">$nivell</span><span class="p">,</span> <span class="nv">$missatge</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="k">switch</span><span class="p">(</span><span class="nv">$nivell</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="10 "></span>        <span class="k">case</span> <span class="k">E_WARNING</span><span class="o">:</span>
<span class="linenos" data-linenos="11 "></span>            <span class="k">echo</span> <span class="s2">"&lt;strong&gt;Warning&lt;/strong&gt;: </span><span class="si">$missatge</span><span class="s2">.&lt;br/&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>            <span class="k">break</span><span class="p">;</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">default</span><span class="o">:</span>
<span class="linenos" data-linenos="14 "></span>            <span class="k">echo</span> <span class="s2">"Error de tipus no especificat: </span><span class="si">$missatge</span><span class="s2">.&lt;br/&gt;"</span><span class="p">;</span>
<span class="linenos" data-linenos="15 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="16 "></span><span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>Error de tipus no especificat: Undefined variable: dividend.
<span class="linenos" data-linenos="2 "></span>Error de tipus no especificat: Undefined variable: divisor.
<span class="linenos" data-linenos="3 "></span>Error de tipo Warning: Division by zero.
</code></pre></div>
</div>
</div>
</div>
<h2 id="excepcions">Excepcions<a class="headerlink" href="#excepcions" title="Permanent link">¶</a></h2>
<p>La gestió d'excepcions forma part des de PHP 5. El seu funcionament és similar a <em>Java</em>, fent ús d'un bloc <code>try / catch / finally</code>. Si detectem una situació anòmala i volem llançar una excepció, haurem de realitzar <code>throw new Exception</code> (adjuntant el missatge que l'ha provocat).</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="nx">\</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>        <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span><span class="s2">"Divisió per zero."</span><span class="p">);</span>
<span class="linenos" data-linenos="5 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="6 "></span>    <span class="nv">$resultat</span> <span class="o">=</span> <span class="nv">$divident</span> <span class="o">/</span> <span class="nv">$divisor</span><span class="p">;</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="8 "></span>    <span class="k">echo</span> <span class="s2">"S'ha produït el següent error: "</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<p>La classe <code>Exception</code> és la classe pare de totes les excepcions. El seu constructor rep <code>missatge[,codiError][,excepcionPrevia]</code>.</p>
<p>A partir d'un objecte <code>Exception</code>, podem accedir als mètodes <code>getMessage()</code>i <code>getCode()</code> per obtenir el missatge i el codi d'error de l'excepció capturada.</p>
<p>El propi llenguatge ofereix un conjunt d'excepcions ja definides, les quals podem capturar (i llançar des de PHP 7). Es recomana la seva consulta en la <a href="https://www.php.net/manual/es/class.exception.php">documentació oficial</a>.</p>
<h3 id="creant-excepcions">Creant excepcions<a class="headerlink" href="#creant-excepcions" title="Permanent link">¶</a></h3>
<p>Per crear una excepció, la forma més curta és crear una classe que únicament hereti d <code>'Exception</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">HolaExcepcio</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{}</span>
</code></pre></div>
<p>Si volem, i és recomanable depenent dels requisits, podem sobrecarregar els mètodes màgics, per exemple, sobrecarregant el constructor i trucant al constructor del pare, o rescriure el mètode <code>__toString</code> per canviar el seu missatge:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">Excepcio</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 3 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$msj</span><span class="p">,</span> <span class="nv">$codi</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">Exception</span> <span class="nv">$previa</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>        <span class="c1">// codi propi</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="nv">$msj</span><span class="p">,</span> <span class="nv">$codi</span><span class="p">,</span> <span class="nv">$previa</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="fm">__toString</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="k">return</span> <span class="no">__CLASS__</span> <span class="o">.</span> <span class="s2">": [</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">codxxe</span><span class="si">}</span><span class="s2">]: </span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span><span class="si">}</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">public</span> <span class="k">function</span> <span class="nf">laMevaFuncio</span><span class="p">()</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">echo</span> <span class="s2">"Una funció personalitzada per a aquest tipus d'excepció</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span>
</code></pre></div>
<p>Si definim una excepció d'aplicació dins d'un <em>namespace</em>, quan referenciem a <code>Exception</code>, haurem de referenciar-la mitjançant el seu nom totalment qualificat (<code>\Exception</code>), o utilitzant <code>use</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Mitjançant nom totalment qualificat</label><label for="__tabbed_3_2">Mitjançant 'use'</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">namespace</span> <span class="nx">\DWES\Exemples</span><span class="p">;</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">class</span> <span class="nc">AppExcepcio</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">namespace</span> <span class="nx">\DWES\Exemples</span><span class="p">;</span>
<span class="linenos" data-linenos="3 "></span>    <span class="k">use</span> <span class="nx">Exception</span><span class="p">;</span>
<span class="linenos" data-linenos="4 "></span>    <span class="k">class</span> <span class="nc">AppExcepcion</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="excepcions-multiples">Excepcions múltiples<a class="headerlink" href="#excepcions-multiples" title="Permanent link">¶</a></h2>
<p>Es poden fer servir excepcions múltiples per comprovar diferents condicions. A l'hora de capturar-les, es fa de més específica a més general.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nv">$email</span> <span class="o">=</span> <span class="s2">"exemple@exemple.com"</span><span class="p">;</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="c1">// Comprova si l'email és vàlid</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">if</span><span class="p">(</span><span class="nb">filter_var</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="nx">FILTER_VALIDATE_EMAIL</span><span class="p">)</span> <span class="o">===</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="k">throw</span> <span class="k">new</span> <span class="nx">Excepcio</span><span class="p">(</span><span class="nv">$email</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span>    <span class="c1">// Comprova la paraula exemple en la direcció email</span>
<span class="linenos" data-linenos="10 "></span>    <span class="k">if</span><span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="s2">"exemple"</span><span class="p">)</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>        <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span><span class="s2">"</span><span class="si">$email</span><span class="s2"> és un email d'exemple no vàlid"</span><span class="p">);</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Excepcio</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="14 "></span>    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">laMevaFuncio</span><span class="p">();</span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="16 "></span>    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="17 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Autoavaluació</p>
<p>Què passaria en executar el següent codi?</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">class</span> <span class="nc">MainException</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{}</span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">SubException</span> <span class="k">extends</span> <span class="nx">MainException</span> <span class="p">{}</span>
<span class="linenos" data-linenos=" 4 "></span>    <span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 5 "></span>    <span class="k">throw</span> <span class="k">new</span> <span class="nx">SubException</span><span class="p">(</span><span class="s2">"Llançada SubException"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 6 "></span>    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">MainException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 7 "></span>      <span class="k">echo</span> <span class="s2">"Capturada MainException "</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos=" 8 "></span>    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">SubException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 9 "></span>      <span class="k">echo</span> <span class="s2">"Capturada SubException "</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="10 "></span>    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="11 "></span>     <span class="k">echo</span> <span class="s2">"Capturada Exception "</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="12 "></span>    <span class="p">}</span>
</code></pre></div>
</div>
<p>Si en el mateix 'catch' volem capturar diverses excepcions, hem d'utilitzar l'operador '|':</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos=" 2 "></span>
<span class="linenos" data-linenos=" 3 "></span><span class="k">class</span> <span class="nc">MainException</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{}</span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">class</span> <span class="nc">SubException</span> <span class="k">extends</span> <span class="nx">MainException</span> <span class="p">{}</span>
<span class="linenos" data-linenos=" 5 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 6 "></span>  <span class="k">throw</span> <span class="k">new</span> <span class="nx">SubException</span><span class="p">(</span><span class="s2">"Llançada SubException"</span><span class="p">);</span>
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">MainException</span> <span class="o">|</span> <span class="nx">SubException</span> <span class="nv">$e</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos=" 9 "></span>  <span class="k">echo</span> <span class="s2">"Capturada Exception "</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="10 "></span><span class="p">}</span>
</code></pre></div>
<p>Des de PHP 7, existeix el tipus <code>Throwable</code>, el qual és un interfície que implementen tant els errors com les excepcions, i ens permet capturar els dos tipus alhora:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="c1">// el teu codi</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Throwable</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>    <span class="k">echo</span> <span class="s1">'Forma de capturar errors i excepcions alhora'</span><span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
</code></pre></div>
<p>Si només volem capturar els errors fatals, podem fer ús de la classe <code>Error</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos="3 "></span>    <span class="c1">// Genera una notificació que no es captura</span>
<span class="linenos" data-linenos="4 "></span>    <span class="k">echo</span> <span class="nv">$variableNoAsignada</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span>    <span class="c1">// Error fatal que es captura</span>
<span class="linenos" data-linenos="6 "></span>    <span class="nx">funcionQueNoExiste</span><span class="p">();</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Error</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="8 "></span>    <span class="k">echo</span> <span class="s2">"Error capturat: "</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="linenos" data-linenos="9 "></span><span class="p">}</span>
</code></pre></div>
<h3 id="rellancar-excepcions">Rellançar excepcions<a class="headerlink" href="#rellancar-excepcions" title="Permanent link">¶</a></h3>
<p>En les aplicacions reals, és molt comú capturar una excepció de sistema i llançar-n'una d'aplicació que hem definit nosaltres. També podem llançar les excepcions sense necessitat d'estar dins d'un <code>try/catch</code>.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="cp">&lt;?php</span>
<span class="linenos" data-linenos="2 "></span><span class="k">class</span> <span class="nc">AppException</span> <span class="k">extends</span> <span class="nx">Exception</span> <span class="p">{}</span>
<span class="linenos" data-linenos="3 "></span>
<span class="linenos" data-linenos="4 "></span><span class="k">try</span> <span class="p">{</span>
<span class="linenos" data-linenos="5 "></span>    <span class="c1">// Codi de negoci que falla</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="7 "></span>    <span class="k">throw</span> <span class="k">new</span> <span class="nx">AppException</span><span class="p">(</span><span class="s2">"AppException: "</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">(),</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getCode</span><span class="p">(),</span> <span class="nv">$e</span><span class="p">);</span>
<span class="linenos" data-linenos="8 "></span><span class="p">}</span>
</code></pre></div>
<h2 id="spl">SPL<a class="headerlink" href="#spl" title="Permanent link">¶</a></h2>
<p><em>Standard PHP Library</em> és el conjunt de funcions i utilitats que ofereix PHP, com:</p>
<ul>
<li>Estructures de dades<ul>
<li>Pila, cua, cua de prioritat, llista doblement enllaçada, etc...</li>
</ul>
</li>
<li>Conjunt d'iteradors dissenyats per recórrer estructures agregades<ul>
<li>arrays, resultats de bases de dades, arbres XML, llistats de directoris, etc.</li>
</ul>
</li>
</ul>
<p>Podeu consultar la documentació a <a href="https://www.php.net/manual/es/book.spl.php">https://www.php.net/manual/es/book.spl.php</a> o veure alguns exemples a <a href="https://diego.com.es/tutorial-de-la-libreria-spl-de-php">https://diego.com.es/tutorial-de-la-libreria-spl-de-php</a></p>
<p>També defineix un conjunt d'excepcions que podem utilitzar perquè les llancin les nostres aplicacions:</p>
<ul>
<li><code>LogicException</code> (<code>extends Exception</code>)<ul>
<li><code>BadFunctionCallException</code></li>
<li><code>BadMethodCallException</code></li>
<li><code>DomainException</code></li>
<li><code>InvalidArgumentException</code></li>
<li><code>LengthException</code></li>
<li><code>OutOfRangeException</code></li>
</ul>
</li>
<li><code>RuntimeException</code> (<code>extends Exception</code>)<ul>
<li><code>OutOfBoundsException</code></li>
<li><code>OverflowException</code></li>
<li><code>RangeException</code></li>
<li><code>UnderflowException</code></li>
<li><code>UnexpectedValueException</code></li>
</ul>
</li>
</ul>
<p>També podeu consultar la documentació d'aquestes excepcions a <a href="https://www.php.net/manual/es/spl.exceptions.php">https://www.php.net/manual/es/spl.exceptions.php</a>.</p>
<h2 id="referencies">Referències<a class="headerlink" href="#referencies" title="Permanent link">¶</a></h2>
<ul>
<li><a href="https://www.php.net/manual/es/index.php">Manual de PHP</a></li>
<li><a href="https://desarrolloweb.com/manuales/manual-php.html#manual68">Manual d'OO en PHP - www.desarrolloweb.com</a></li>
<li>[Lloc web d'Aitor Medrano}(https://aitor-medrano.github.io/)</li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Darrera actualització">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">20 d’octubre de 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Creada">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"></path></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">14 d’octubre de 2024</span>
  </span>

    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2025 Xavier Sastre - Llicencia CC BY-NC-SA <a href="#__consent">Canvia configuració de les galetes</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  





<h4>Consentiment ús galetes</h4>
<p>Utilitzem galetes per reconèixer les vostres visites, així com mesurar l'eficàcia de la nostra documentació i si els usuaris troben allò que estan buscant. Amb el teu consentiment, ens ajudes a millorar la nostra documentació.</p>
<input class="md-toggle" type="checkbox" id="__settings">
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
          
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accepta</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Rebutja</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestiona la configuració</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "toc.integrate", "content.tabs.link", "content.tooltips", "content.code.select", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../assets/extra.js"></script>
      
        <script src="../../assets/meus.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>